
Функция pingGET(Запрос)
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки("ok");
	Возврат Ответ;
КонецФункции

Функция PrefixMarketInfo(Запрос)
	
	
	ПрефиксПодразделения = Запрос.ПараметрыURL["Prefix"];
	
	ДанныеПодразделения = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьСтруктуруТорговойПолощадки(ПрефиксПодразделения);
	Если ДанныеПодразделения = Неопределено Тогда
		Ответ = Новый HTTPСервисОтвет(204);
	Иначе
		ЗаписьJSON = Новый ЗаписьJSON; 
		ЗаписьJSON.УстановитьСтроку(); 
		ЗаписатьJSON(ЗаписьJSON, ДанныеПодразделения); 
		СтрокаДляОтвета = ЗаписьJSON.Закрыть();
		Ответ = Новый HTTPСервисОтвет(200);
		Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	КонецЕсли;
	
	Возврат Ответ;

КонецФункции

Функция ClientInfo(Запрос)
	
	КодЕДРПО = Запрос.ПараметрыURL["EDRPO"];
	
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьСтруктуруКонтрагента(КодЕДРПО);
	Если ДанныеВозврата = Неопределено Тогда
		Ответ = Новый HTTPСервисОтвет(204);
	Иначе
		ЗаписьJSON = Новый ЗаписьJSON; 
		ЗаписьJSON.УстановитьСтроку(); 
		ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
		СтрокаДляОтвета = ЗаписьJSON.Закрыть();
		Ответ = Новый HTTPСервисОтвет(200);
		Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	КонецЕсли;
	
	Возврат Ответ;
КонецФункции

Функция MarketSkladInfo(Запрос)
	
	тСтрокаПараметров = Запрос.ПараметрыURL["Market"];
	
	
	ДанныеВозврата =  ТК_ТСД_РаботаHTTP_Сервис.ПолучитьМассивСкладов(тСтрокаПараметров);
	
	Если ДанныеВозврата.Результат  Тогда
		ЗаписьJSON = Новый ЗаписьJSON; 
		ЗаписьJSON.УстановитьСтроку(); 
		ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
		СтрокаДляОтвета = ЗаписьJSON.Закрыть();
		Ответ = Новый HTTPСервисОтвет(200);
		Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Иначе
		Ответ = Новый HTTPСервисОтвет(301);
	КонецЕсли;
	
	Возврат Ответ;

КонецФункции

Функция IDTCSInfo(Запрос)
	
	ДанныеШК_ТКС = Запрос.ПараметрыURL["TKS"];
	
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьСтруктуруСотрудника(ДанныеШК_ТКС);
	Если ДанныеВозврата = Неопределено Тогда
		Ответ = Новый HTTPСервисОтвет(204);
	Иначе
		ЗаписьJSON = Новый ЗаписьJSON; 
		ЗаписьJSON.УстановитьСтроку(); 
		ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
		СтрокаДляОтвета = ЗаписьJSON.Закрыть();
		Ответ = Новый HTTPСервисОтвет(200);
		Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	КонецЕсли;
	
	Возврат Ответ;
КонецФункции


Функция MarketTaskInfo(Запрос)
	
	тПодразделение = Запрос.ПараметрыURL["Market"];
	тПараметры     = Запрос.ПараметрыURL["Param"];

	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьДанныеПоЗадачам(тПодразделение,тПараметры);
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

КонецФункции

Функция NomenclatureBarCodInfo(Запрос)
	
	тMarket = Запрос.ПараметрыURL["Market"];
	тШтрихКод      = Запрос.ПараметрыURL["BarCode"];
	тСвернуто      = ?(Запрос.ПараметрыURL["Min"]="1",Истина,Ложь);

	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьТоварТорговойПлощадки(тMarket,тШтрихКод,тСвернуто);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;

КонецФункции


Функция NomenclatureBarCodInfoV2(Запрос)
	
	тMarket = Запрос.ПараметрыURL["Market"];
	тШтрихКод      = Запрос.ПараметрыURL["BarCode"];
	тПараметры     = Запрос.ПараметрыURL["Param"];

	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьДанныеТовара(тMarket,,тШтрихКод,тПараметры);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;

КонецФункции


Функция NomenclatureBarCodInfoV3(Запрос)
	
	тMarket = Запрос.ПараметрыURL["Market"];
	тСклад  = Запрос.ПараметрыURL["Sklad"];
	тШтрихКод      = Запрос.ПараметрыURL["BarCode"];
	тПараметры     = Запрос.ПараметрыURL["Param"];

	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьДанныеТовара(тMarket,тСклад,тШтрихКод,тПараметры);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;

КонецФункции

Функция NomenclatureVozvratGET(Запрос)
	тMarket = Запрос.ПараметрыURL["Market"];
	тСклад  = Запрос.ПараметрыURL["Sklad"];
	тШтрихКод      = Запрос.ПараметрыURL["BarCode"];
	тПоставщик     = Запрос.ПараметрыURL["Contract"];
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьДанныеТовараВозврат(тMarket,тСклад,тШтрихКод,тПоставщик);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;

КонецФункции



Функция ManagerTZManagerTZ(Запрос)
	
	тMarket = Запрос.ПараметрыURL["Market"];
	тШтрихКод      = Запрос.ПараметрыURL["BarCode"];

	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьДанныеМенеджерТЗ(тMarket,тШтрихКод);
	
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

КонецФункции


Функция VerifikatsiyaTsen(Запрос)
	
	тMarket 		 = Запрос.ПараметрыURL["Market"];
	тИнфоТовара      = Запрос.ПараметрыURL["InfoTtovara"];
	
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ВерефицироватьЦенник(тMarket,тИнфоТовара);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

КонецФункции


Функция VerifikatsiyaTsenv2(Запрос)
	
	тMarket          = Запрос.ПараметрыURL["Market"];
	тИнфоТовара      = Запрос.ПараметрыURL["InfoTtovara"];
	тID_Задачи       = Запрос.ПараметрыURL["id"];

	
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ВерефицироватьЦенник(тMarket,тИнфоТовара,тID_Задачи);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

КонецФункции


Функция ListDoc(Запрос)
	
	тMarket   = Запрос.ПараметрыURL["MarketDok"];
	ТипДокумента     = Запрос.ПараметрыURL["Doc"];
	ПериодДокументов = Запрос.ПараметрыURL["Data"];
	тКонтрагент       = Запрос.ПараметрыURL["Client"];

	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьСписокДокументов(ПериодДокументов,ТипДокумента,тMarket,тКонтрагент);
	

	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

КонецФункции


Функция InfoOrders(Запрос)
	
	тMarket = Запрос.ПараметрыURL["Market"];
	тСтрокаПоиска   = Запрос.ПараметрыURL["InfOrder"];

	тПарамЗаказ   = Запрос.ПараметрыURL["zk"];

	Если тПарамЗаказ = "1" Тогда
		
		ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.НайтиЗаказыДляПриема(тMarket,тСтрокаПоиска,Запрос);
	Иначе
		ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.НайтиПриходыДляПриема(тMarket,тСтрокаПоиска,Запрос);

	КонецЕсли;

	//
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

КонецФункции


Функция TablDoc(Запрос)
	
	тMarket   = Запрос.ПараметрыURL["MarketDok"];
	ТипДокумента     = Запрос.ПараметрыURL["Doc"];
	ИД_Документа 	 = Запрос.ПараметрыURL["DocUUID"];
	
	ДанныеРез = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьДокумент(тMarket,ТипДокумента,ИД_Документа);
	
		
	СтрокаДляОтвета = ТК_ТСД_РаботаHTTP_Сервис.ЗаписатьРезультатВJSON(ДанныеРез);
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	
	Возврат Ответ;

КонецФункции


Функция AcceptDocV2(Запрос)
	
	тMarket        = Запрос.ПараметрыURL["Market"];
	ТипДокумента   = Запрос.ПараметрыURL["DocV2"];
	
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ЗагрузитьДокумент(ТипДокумента,тMarket,Запрос);
	//
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

	
КонецФункции


Функция AcceptDoc(Запрос)
	
	тMarket = Запрос.ПараметрыURL["Market"];
	ТипДокумента   = Запрос.ПараметрыURL["Doc"];
	
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ЗагрузитьДокумент(ТипДокумента,тMarket,Запрос);
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

	
КонецФункции


Функция PrinDocPost(Запрос)
	
	тMarket    = Запрос.ПараметрыURL["Market"];
	тТипДокумента     = Запрос.ПараметрыURL["Type"];
	тКоличествоКопий  = Запрос.ПараметрыURL["Copy"];


	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПоставитьВОчередьНаПечать(тMarket,тТипДокумента,тКоличествоКопий,Запрос);
	
		
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
		
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();

	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;

КонецФункции


Функция InfoPrinDoc(Запрос)
	
	тДокумент      = Запрос.ПараметрыURL["Doc"];
	тДокументUUID  = Запрос.ПараметрыURL["UUID"];

	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьДанныеДляПечати(тДокумент,тДокументUUID);
	
		
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
		
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();

	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;


КонецФункции


Функция PriceMarket(Запрос)
	
	тMarket = Запрос.ПараметрыURL["Market"];
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ЗаписатьТоварыДляЦенниковОбъекта(тMarket,Запрос);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	Возврат Ответ;
	
	
КонецФункции


Функция PriceMarketPrint(Запрос)
	
	тMarket = Запрос.ПараметрыURL["Market"];
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ЗаписатьТоварыДляЦенниковОбъекта(тMarket,Запрос);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;


КонецФункции


Функция ВернутьОтаток(Запрос)
	
	тMarket  = Запрос.ПараметрыURL["Market"];
	тСклад   = Запрос.ПараметрыURL["Sklad"];
	тАртикул = Запрос.ПараметрыURL["Art"];
	тМРЦ     = Запрос.ПараметрыURL["Mrc"];

	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьДанныеОстаткаТовара(тMarket,тСклад,тАртикул,тМРЦ);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеВозврата); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;

КонецФункции


Функция PriceChangeGET(Запрос)
	
	тMarket = Запрос.ПараметрыURL["Market"];
	тПериод        = Запрос.ПараметрыURL["Data"];

	ДанныеРез = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьДанныеПоПереоценкам(тMarket,тПериод);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеРез); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;
	
КонецФункции

Функция MRCПроверить(Запрос)
	
	тАртикул = Запрос.ПараметрыURL["Art"];
	тМРЦ     = Запрос.ПараметрыURL["Mrc"];

	ДанныеРез = ТК_ТСД_РаботаHTTP_Сервис.ПроверитьМРЦ(тАртикул,тМРЦ);
	
	ЗаписьJSON = Новый ЗаписьJSON; 
	ЗаписьJSON.УстановитьСтроку(); 
	ЗаписатьJSON(ЗаписьJSON, ДанныеРез); 
	
	СтрокаДляОтвета = ЗаписьJSON.Закрыть();
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

	
КонецФункции


Функция НакладнаяРН(Запрос)
	
	UUID = Запрос.ПараметрыURL["uuid"];
	Параметр = Запрос.ПараметрыURL["param"];

	Если Параметр ="1" Тогда
		ДанныеРез = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьСтруктуруРасходнойНакладной(UUID);
	ИначеЕсли Параметр ="2" Тогда
		ДанныеРез = ТК_ТСД_РаботаHTTP_Сервис.ЗаписатьОтсканированнуюНакладную(UUID);
	ИначеЕсли Параметр ="3" Тогда 
		ДанныеРез = ТК_ТСД_РаботаHTTP_Сервис.ОтменаСканировкиТабак(UUID);
	Иначе
		ДанныеРез = Новый Структура("Результат,ОписаниеОшибки,Ответ",Ложь,"Неизвестный параметры запроса")
	КонецЕсли;

	
	СтрокаДляОтвета = ТК_ТСД_РаботаHTTP_Сервис.ЗаписатьРезультатВJSON(ДанныеРез);

	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

КонецФункции


Функция СканированиеТабакGET(Запрос)
	
	UUID = Запрос.ПараметрыURL["uuid"];
	ШтрихКод = Запрос.ПараметрыURL["ch"];
	Парам = Запрос.ПараметрыURL["cv"];

	ДанныеРез = ТК_ТСД_РаботаHTTP_Сервис.ОбработатьТабачныйШтрихКод(UUID,ШтрихКод,Парам);
	
	СтрокаДляОтвета = ТК_ТСД_РаботаHTTP_Сервис.ЗаписатьРезультатВJSON(ДанныеРез);
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;
	
КонецФункции


Функция СканированиеТабакPOST(Запрос)
	
	UUID = Запрос.ПараметрыURL["uuid"];
	Парам = Запрос.ПараметрыURL["cv"];


	
	ДанныеРез = ТК_ТСД_РаботаHTTP_Сервис.ОбработатьТабачныйШтрихКод(UUID,Запрос,Парам);
	
	СтрокаДляОтвета = ТК_ТСД_РаботаHTTP_Сервис.ЗаписатьРезультатВJSON(ДанныеРез);
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;

КонецФункции


Функция PrintFormPOST(Запрос)
	
	
	тMarket = Запрос.ПараметрыURL["Market"];
	
	ДанныеВозврата = ТК_ТСД_РаботаHTTP_Сервис.ВернутьПечатнуюФорму(тMarket,Запрос);
		
	
	Если ДанныеВозврата.Результат Тогда
	Ответ = Новый HTTPСервисОтвет(200);
	
	Ответ.УстановитьТелоИзДвоичныхДанных(ДанныеВозврата.Ответ);
	Иначе
		Ответ = Новый HTTPСервисОтвет(400);

		Ответ.УстановитьТелоИзСтроки(ДанныеВозврата.ОписаниеОшибки);

	КонецЕсли;
	Возврат Ответ;
КонецФункции


Функция ListInfGET(Запрос)
	
	Парам = Запрос.ПараметрыURL["Par"];

	ДанныеРез = ТК_ТСД_РаботаHTTP_Сервис.СформироватьМассивВозврата(Парам);
	
	СтрокаДляОтвета = ТК_ТСД_РаботаHTTP_Сервис.ЗаписатьРезультатВJSON(ДанныеРез);
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;
	
КонецФункции

   
Функция StatusInf(Запрос)
	
	ID = Запрос.ПараметрыURL["ID"];

	СтрокаДляОтвета = ТК_ТСД_РаботаHTTP_Сервис.ПолучитьСтатусДоверенногоЛица(ID);
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);
	
	Возврат Ответ;
	
КонецФункции


Функция AcceptDocInfDocGET(Запрос)
		
	тMarket = Запрос.ПараметрыURL["Market"];
	ТипДокумента   = Запрос.ПараметрыURL["Doc"];
	
	СтруктураВозврата = ТК_ТСД_РаботаHTTP_Сервис.ВернутьДанныеТорговойПлощадки(ТипДокумента,тMarket);
	
	СтрокаДляОтвета = ТК_ТСД_РаботаHTTP_Сервис.ЗаписатьРезультатВJSONФорматДатыISO(СтруктураВозврата);
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;
	
КонецФункции


Функция ComplectGET(Запрос)

	СтрокаДляОтвета = ТК_ТСД_Комплектовщик.ОбработатьGET(Запрос);
	
	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;
КонецФункции


Функция ComplectPOST(Запрос)
	
	СтрокаДляОтвета = ТК_ТСД_Комплектовщик.ОбработатьPOST(Запрос);

	Ответ = Новый HTTPСервисОтвет(200);
	Ответ.УстановитьТелоИзСтроки(СтрокаДляОтвета);

	Возврат Ответ;
КонецФункции

