<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП21">2.01</ВерсияФормата>
	<Ид>9a43f90e-e9ac-456a-b7ca-b974ab915b7a    </Ид>
	<Наименование>Упр док --&gt; ТК_ssl</Наименование>
	<ДатаВремяСоздания>2021-12-23T17:41:43</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="1.2.37.1" СинонимКонфигурации="Бухгалтерия для Украины, редакция 1.2">БухгалтерияДляУкраины</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="1.0.1.25" СинонимКонфигурации="ТК">ТК</Приемник>
	<ПередВыгрузкойДанных>СоответствиеОбъектов = Новый Соответствие;
СоответствиеОбъектов.Вставить("GL000424", "ХGL000300");	//РЦ - ПОЛТАВА Аттика СТК (ДИСТРИБУЦИЯ)
СоответствиеОбъектов.Вставить("ХGL000110", "GL000160 ");	//ЦО Аттика
СоответствиеОбъектов.Вставить("ХGL000153", "ХGL000153");	//РЦ - СУМЫ Аттика (ДИСТРУБИЦИЯ)
//СоответствиеОбъектов.Вставить("GL000032", ""); 	//Тракторостроителей 107 в, Харьков МП
//СоответствиеОбъектов.Вставить("ХGL000115", "");	//Бизнес Групп Дигма
СоответствиеОбъектов.Вставить("ХGL000237", "ХGL000237");	//ЦО Табак-Дигма



Параметры.Вставить("СоответствиеОбъектов", СоответствиеОбъектов);


СписокДДС = Новый СписокЗначений;
СписокДДС.Добавить(Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("OR0000418")); //Прочие поступления денежных средств
СписокДДС.Добавить(Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("OR0000405")); //Выручка от реализации товаров
СписокДДС.Добавить(Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("OR0000357")); //Расчеты с поставщиками
СписокДДС.Добавить(Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("OR0000432")); //Выручка от реализации товаров ОПТ
СписокДДС.Добавить(Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("OR0000392")); //Возврат денежных средств
СписокДДС.Добавить(Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("OR0000400")); //Бонусы от поставщиков
СписокДДС.Добавить(Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("OR0000404")); //Выручка от продажи списания, отходов
СписокДДС.Добавить(Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("OR0000411")); //Поступления от аренды рекламных площадей

Параметры.Вставить("СписокДДС",СписокДДС);


СписокПерегружаемыхСчетов = Новый СписокЗначений;
СписокПерегружаемыхСчетов.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПоставщикамиОбщий);
СписокПерегружаемыхСчетов.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПокупателями);
СписокПерегружаемыхСчетов.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПокупателямиБонусы);
СписокПерегружаемыхСчетов.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПоставщикамиАссоциация);
СписокПерегружаемыхСчетов.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСДругимиДебиторамиВНациональнойВалюте);

Параметры.Вставить("СписокПерегружаемыхСчетов",СписокПерегружаемыхСчетов);

Параметры.Вставить("СчетБонус",ПланыСчетов.Хозрасчетный.РасчетыСПокупателямиБонусы);

ПодразделенияУдалить = Новый Соответствие;
ПодразделенияУдалить.Вставить(Справочники.Подразделения.НайтиПоКоду("000000008"),"GL000169");   //ТС Бафет
ПодразделенияУдалить.Вставить(Справочники.Подразделения.НайтиПоКоду("000000007"),"GL000002");   //ТС Аттика
ПодразделенияУдалить.Вставить(Справочники.Подразделения.НайтиПоКоду("000000002"),"GL000003");    //Интеллект Центр

Параметры.Вставить("ПодразделенияУдалить",ПодразделенияУдалить);


//Если Параметры.УдалитьрегистрациюПередВыгрузкой И НЕ ПустаяСтрока(Параметры.КодУзла) Тогда
//	Если Параметры.ТипОбмена = "ЗагрузкаСправочники_УпрДок" Тогда
//		Узел = 	ПланыОбмена.НормативноСправочнаяИнформацияTK_SSL.НайтиПоКоду(Параметры.КодУзла);
//		ПланыОбмена.УдалитьРегистрациюИзменений(Узел,1);
//	//ИначеЕсли Параметры.ТипОбмена = "ЗагрузкаДокументы_УпрДок" Тогда
//	//	Узел = 	ПланыОбмена.ДокументыTK_SSL.НайтиПоКоду(Параметры.КодУзла);
//	//	ПланыОбмена.УдалитьРегистрациюИзменений(Узел,1);		
//	КонецЕсли;
//КонецЕсли;
</ПередВыгрузкойДанных>
	<ПередЗагрузкойДанных>
Параметры.Вставить("КассаКомпании",Справочники.КассыКомпании.НайтиПоКоду("00000"));
Параметры.Вставить("СтатьяДДСПКО",Справочники.СтатьиДДС.ПоступлениеВЦентральнуюКассу);
Параметры.Вставить("СтатьяДДСРКО",Справочники.СтатьиДДС.РасходИзЦентральнойКассы);

Параметры.Вставить("ХозОперацияПКО", Справочники.ХозОперации.ПриходныйКассовыйОрдер);
Параметры.Вставить("ХозОперацияРКО", Справочники.ХозОперации.РасходныйКассовыйОрдер);</ПередЗагрузкойДанных>
	<Параметры>
		<Параметр Имя="ДокументВыгрузки                                  " Наименование="ДокументВыгрузки                                  " ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="Строка" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="КодУзла                                           " Наименование="КодУзла                                           " ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="Строка" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ТипОбмена                                         " Наименование="ТипОбмена                                         " ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="Строка" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="УдалитьрегистрациюПередВыгрузкой                  " Наименование="УдалитьрегистрациюПередВыгрузкой                  " ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="Булево" ПередаватьПараметрПриВыгрузке="false"/>
	</Параметры>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Группа>
				<Код>НаУдаление</Код>
				<Наименование>НаУдаление                                        </Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>ПриходныйКассовыйОрдер_НаУдаление</Код>
					<Наименование>: </Наименование>
					<Порядок>50</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ДокументНаУдаление);</ПослеЗагрузки>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
					<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
					<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "УУ-"+Прав(Источник.Номер,9);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РасходныйКассовыйОрдер_НаУдаление</Код>
					<Наименование>: </Наименование>
					<Порядок>50</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ДокументНаУдаление);</ПослеЗагрузки>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
					<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
					<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "УУ-"+Прав(Источник.Номер,9);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Правило>
				<Код>ПриходныйКассовыйОрдер</Код>
				<Наименование>Документ: Приходный кассовый ордер</Наименование>
				<Порядок>100</Порядок>
				<ПередЗагрузкой>РежимЗаписи = "Проведение";
РежимПроведения  = "Неоперативный";</ПередЗагрузкой>
				<ПослеЗагрузки>Объект.ХозОперация 	 = Параметры.ХозОперацияПКО;
Объект.КассаКомпании = Параметры.КассаКомпании;
Объект.СтатьяДДС     = Параметры.СтатьяДДСПКО;

Выполнить(Алгоритмы.УстановитьБазуСоздания);
</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
				<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПриводитьКДлине>12</ПриводитьКДлине>
						<ПередВыгрузкой>Значение = "УУ-"+Прав(Источник.Номер,9);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ВалютаДокумента --&gt; ВалютаДокумента</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ВыводитьНаПечатьСуммуНДС --&gt; ВыводитьНаПечатьСуммуНДС</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ВыводитьНаПечатьСуммуНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ВыводитьНаПечатьСуммуНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ОплатаПокупателя Тогда
	Занчение = Источник.Контрагент;

ИначеЕсли Источник.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПоставщикамиОбщий
		ИЛИ Источник.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСПокупателями
		ИЛИ Источник.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСДругимиДебиторамиВНациональнойВалюте
 Тогда
	Значение = Источник.СубконтоКт1;
КонецЕсли;
</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>ДоговорКонтрагента --&gt; ДоговорВзаиморасчетов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="ДоговорВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ОплатаПокупателя Тогда
	Занчение = Источник.ДоговорКонтрагента;
ИначеЕсли Источник.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПоставщикамиОбщий
	ИЛИ Источник.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСПокупателями 
	ИЛИ Источник.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСДругимиДебиторамиВНациональнойВалюте

	Тогда
	Значение = Источник.СубконтоКт2;
КонецЕсли;
</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Основание --&gt; Основание</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; АвтоЗакрытиеСделок</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="АвтоЗакрытиеСделок" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>Подразделение --&gt; ПодразделениеКомпании</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<КодПравилаКонвертации>ПодразделенияКомпании                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Приложение --&gt; Приложение</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
						<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; КурсДокумента</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КурсДокумента" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; РегламентированныйУчет</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="РегламентированныйУчет" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; ТорговаяПлощадка</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТорговаяПлощадка" Вид="Реквизит" Тип="СправочникСсылка.ТорговыеПлощадки"/>
						<КодПравилаКонвертации>ТорговыеПлощадки                                  </КодПравилаКонвертации>
						<ПередВыгрузкой>КодТП = Параметры.СоответствиеОбъектов.Получить(СокрЛП(Источник.Объекты.Код));
Если КодТП = Неопределено Тогда
	КодТП = СокрЛП(Источник.Объекты.Код);
КонецЕсли;

Значение = Новый Структура("Код", КодТП);</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>17</Код>
						<Наименование>Касса --&gt; КассаКомпании</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
						<Приемник Имя="КассаКомпании" Вид="Реквизит" Тип="СправочникСсылка.КассыКомпании"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>19</Код>
						<Наименование>--&gt; ПодразделениеКомпании</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>15</Код>
						<Наименование>--&gt; Автор</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>22</Код>
						<Наименование>--&gt; ХозОперация</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ХозОперация" Вид="Реквизит" Тип="СправочникСсылка.ХозОперации"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>23</Код>
						<Наименование>НомерОрдера --&gt; НомерКО</Наименование>
						<Порядок>1200</Порядок>
						<Источник Имя="НомерОрдера" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерКО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РасходныйКассовыйОрдер</Код>
				<Наименование>Документ: Расходный кассовый ордер</Наименование>
				<Порядок>150</Порядок>
				<ПередЗагрузкой>РежимЗаписи = "Проведение";
РежимПроведения  = "Неоперативный";</ПередЗагрузкой>
				<ПослеЗагрузки>Объект.ХозОперация = Параметры.ХозОперацияРКО;
Объект.КассаКомпании = Параметры.КассаКомпании;
Объект.СтатьяДДС     = Параметры.СтатьяДДСРКО;

Если Объект.Контрагент&lt;&gt;Объект.ДоговорВзаиморасчетов.Контрагент Тогда
	Выполнить(Алгоритмы.НайтиДоговорПоставки);
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.Организация) Тогда
	Объект.Организация = Объект.ДоговорВзаиморасчетов.Организация;	
КонецЕсли;

Выполнить(Алгоритмы.УстановитьБазуСоздания);
</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
				<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПриводитьКДлине>12</ПриводитьКДлине>
						<ПередВыгрузкой>Значение = "УУ-"+Прав(Источник.Номер,9);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ВалютаДокумента --&gt; ВалютаДокумента</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Выдать --&gt; Выдать</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Выдать" Вид="Реквизит"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>СубконтоДт1 --&gt; Контрагент</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="СубконтоДт1" Вид="Реквизит"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику ИЛИ Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВозвратДенежныхСредствПокупателю Тогда
	Значение = Источник.Контрагент;
КонецЕсли;
</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>СубконтоДт2 --&gt; ДоговорВзаиморасчетов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="СубконтоДт2" Вид="Реквизит"/>
						<Приемник Имя="ДоговорВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику ИЛИ Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВозвратДенежныхСредствПокупателю Тогда
	Значение = Источник.ДоговорКонтрагента;
КонецЕсли;
</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Основание --&gt; Основание</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Приложение --&gt; Приложение</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
						<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; КурсДокумента</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КурсДокумента" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>Подразделение --&gt; ПодразделениеКомпании</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<КодПравилаКонвертации>ПодразделенияКомпании                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; РегламентированныйУчет</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="РегламентированныйУчет" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; ТорговаяПлощадка</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТорговаяПлощадка" Вид="Реквизит" Тип="СправочникСсылка.ТорговыеПлощадки"/>
						<КодПравилаКонвертации>ТорговыеПлощадки                                  </КодПравилаКонвертации>
						<ПередВыгрузкой>КодТП = Параметры.СоответствиеОбъектов.Получить(СокрЛП(Источник.Объекты.Код));
Если КодТП = Неопределено Тогда
	КодТП = СокрЛП(Источник.Объекты.Код);
КонецЕсли;

Значение = Новый Структура("Код", КодТП);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>--&gt; АвтоЗакрытиеСделок</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="АвтоЗакрытиеСделок" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>14</Код>
						<Наименование>--&gt; КассаКомпании</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КассаКомпании" Вид="Реквизит" Тип="СправочникСсылка.КассыКомпании"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>50</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ЭтоГруппа;
НеЗамещатьОбъектПриЗагрузке =Истина;</ПередВыгрузкой>
				<ПоследовательностьПолейПоиска>//Сообщить("Вариант поиска: " + Строка(НомерВариантаПоиска)+" ОКПО " + Строка(СвойстваПоиска["КодПоОКПО"]));

Если НомерВариантаПоиска = 1  тогда
	Если ПустаяСтрока(СвойстваПоиска["КодПоОКПО"]) И НЕ ПустаяСтрока(СвойстваПоиска["ИНН"])  Тогда
	//	Сообщить("Поиск по коду!!! "+Строка(СвойстваПоиска["Код"]));
		СтрокаИменСвойствПоиска ="ИНН";
	ИначеЕсли  ПустаяСтрока(СвойстваПоиска["КодПоОКПО"]) Тогда
		СтрокаИменСвойствПоиска ="Код";
	Иначе
		СтрокаИменСвойствПоиска = "ИНН, КодПоОКПО";
 	КонецЕсли;
 
ИначеЕсли НомерВариантаПоиска = 2 тогда
	Если ПустаяСтрока(СвойстваПоиска["КодПоОКПО"]) Тогда
		 СтрокаИменСвойствПоиска = "Наименование";
	Иначе
  		СтрокаИменСвойствПоиска = "КодПоОКПО";
	КонецЕсли
Иначе
	
   	СтрокаИменСвойствПоиска ="Код";

КонецЕсли;
</ПоследовательностьПолейПоиска>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>3</Код>
						<Наименование>ИНН --&gt; ИННПлательщикаНДС</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИННПлательщикаНДС" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>2</Код>
						<Наименование>КодПоЕДРПОУ --&gt; КодПоЕДРПОУ</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>
Если Найти(Источник.КодПоЕДРПОУ,"ХХХХХХХХ")&gt;0 Тогда
Значение ="";	
КонецЕсли;
</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Валюты</Код>
				<Наименование>Справочник: Валюты</Наименование>
				<Порядок>100</Порядок>
				<ПередВыгрузкой>НеЗамещатьОбъектПриЗагрузке =Истина;</ПередВыгрузкой>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Источник>СправочникСсылка.Валюты</Источник>
				<Приемник>СправочникСсылка.Валюты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыКонтрагентов</Код>
				<Наименование>Справочник: Договоры контрагентов</Наименование>
				<Порядок>150</Порядок>
				<ПередВыгрузкой>НеЗамещатьОбъектПриЗагрузке =Истина;</ПередВыгрузкой>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
 
	СтрокаИменСвойствПоиска = "Организация, Владелец, Код";
 
ИначеЕсли НомерВариантаПоиска = 2 тогда
 
  	СтрокаИменСвойствПоиска = "Организация, Владелец, ВидДоговора, Номер, Дата";
	
ИначеЕсли НомерВариантаПоиска = 3 тогда
	
	СтрокаИменСвойствПоиска = "Организация, Владелец,ВидДоговора, Наименование";

Иначе
	
	
 
КонецЕсли;
</ПоследовательностьПолейПоиска>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>4</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>6</Код>
						<Наименование>Владелец --&gt; Контрагент</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>ВидДоговора --&gt; ВидДоговора</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
						<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="СправочникСсылка.ВидыДоговоров"/>
						<КодПравилаКонвертации>ВидыДоговоровСправочник                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ВидДоговора --&gt; ВидДоговораПеречисление</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
						<Приемник Имя="" Вид=""/>
						<КодПравилаКонвертации>ВидыДоговоровПеречисление                         </КодПравилаКонвертации>
						<ИмяПараметраДляПередачи>ВидДоговораПеречисление</ИмяПараметраДляПередачи>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>200</Порядок>
				<ПередВыгрузкой>НеЗамещатьОбъектПриЗагрузке =Истина;</ПередВыгрузкой>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.Организации</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = СокрЛП(Источник.Код);</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>Перечисление: Ставки НДС</Наименование>
				<Порядок>250</Порядок>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>ПеречислениеСсылка.СтавкиНДС</Источник>
				<Приемник>СправочникСсылка.СтавкиНДС</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>1</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>БезНДС --&gt; БезНДС</Наименование>
						<Порядок>50</Порядок>
						<Источник>БезНДС</Источник>
						<Приемник>БезНДС</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НДС0 --&gt; НДС0</Наименование>
						<Порядок>100</Порядок>
						<Источник>НДС0</Источник>
						<Приемник>НДС0</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НДС20 --&gt; ОсновнаяСтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник>НДС20</Источник>
						<Приемник>ОсновнаяСтавкаНДС</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>НДС7 --&gt; НДС7</Наименование>
						<Порядок>200</Порядок>
						<Источник>НДС7</Источник>
						<Приемник>НДС7</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыДоговоровСправочник</Код>
				<Наименование>Перечисление: Виды договоров контрагентов</Наименование>
				<Порядок>300</Порядок>
				<ПередВыгрузкой>НеЗамещатьОбъектПриЗагрузке =Истина;</ПередВыгрузкой>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Источник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Источник>
				<Приемник>СправочникСсылка.ВидыДоговоров</Приемник>
				<Свойства>
					<Свойство Отключить="true" Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>2</Код>
						<Наименование>Бартерный --&gt; Прочее</Наименование>
						<Порядок>50</Порядок>
						<Источник>Бартерный</Источник>
						<Приемник>Прочее</Приемник>
					</Значение>
					<Значение>
						<Код>1</Код>
						<Наименование>Прочее --&gt; Прочее</Наименование>
						<Порядок>100</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>Прочее</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СПокупателем --&gt; Продажа</Наименование>
						<Порядок>150</Порядок>
						<Источник>СПокупателем</Источник>
						<Приемник>Продажа</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>СПоставщиком --&gt; Поставка</Наименование>
						<Порядок>200</Порядок>
						<Источник>СПоставщиком</Источник>
						<Приемник>Поставка</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ПодразделенияКомпании</Код>
				<Наименование>Справочник: Подразделения</Наименование>
				<Порядок>350</Порядок>
				<ПередВыгрузкой>НеЗамещатьОбъектПриЗагрузке =Истина;</ПередВыгрузкой>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.Подразделения</Источник>
				<Приемник>СправочникСсылка.ПодразделенияКомпании</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ТорговыеПлощадки</Код>
				<Наименование>: </Наименование>
				<Порядок>400</Порядок>
				<ПередВыгрузкой>НеЗамещатьОбъектПриЗагрузке =Истина;</ПередВыгрузкой>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Приемник>СправочникСсылка.ТорговыеПлощадки</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>1</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>ВидыДоговоровПеречисление</Код>
				<Наименование>Перечисление: Виды договоров контрагентов</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Источник>
				<Приемник>ПеречислениеСсылка.ВидыДоговоров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Прочее --&gt; Прочее</Наименование>
						<Порядок>50</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>Прочее</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>СКомиссионером --&gt; Комиссия</Наименование>
						<Порядок>100</Порядок>
						<Источник>СКомиссионером</Источник>
						<Приемник>Комиссия</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СПокупателем --&gt; Продажа</Наименование>
						<Порядок>150</Порядок>
						<Источник>СПокупателем</Источник>
						<Приемник>Продажа</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>СПоставщиком --&gt; Покупка</Наименование>
						<Порядок>200</Порядок>
						<Источник>СПоставщиком</Источник>
						<Приемник>Покупка</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Бартерный --&gt; Бартерный</Наименование>
						<Порядок>250</Порядок>
						<Источник>Бартерный</Источник>
						<Приемник>Бартерный</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>СКомитентом --&gt; СКомитентом</Наименование>
						<Порядок>300</Порядок>
						<Источник>СКомитентом</Источник>
						<Приемник>СКомитентом</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Прочее --&gt; Бонус</Наименование>
						<Порядок>350</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>Бонус</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>СКомитентом --&gt; УпрощеннаяКомиссия</Наименование>
						<Порядок>400</Порядок>
						<Источник>СКомиссионером</Источник>
						<Приемник>УпрощеннаяКомиссия</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="false">
				<Код>ПриходныйКассовыйОрдер</Код>
				<Наименование>ПриходныйКассовыйОрдер</Наименование>
				<Порядок>50</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПриходныйКассовыйОрдер</ОбъектВыборки>
				<ПередОбработкойПравила>Если Параметры.ДокументВыгрузки = "ПриходныйКассовыйОрдер" Тогда
	
	ТипОбъекта 	  = "ПриходныйКассовыйОрдер";
	ИмяПравилаПКО = "ПриходныйКассовыйОрдер";
	
	Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументы);
КонецЕсли;

Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>РасходныйКассовыйОрдер</Код>
				<Наименование>РасходныйКассовыйОрдер</Наименование>
				<Порядок>100</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РасходныйКассовыйОрдер</ОбъектВыборки>
				<ПередОбработкойПравила>
Если Параметры.ДокументВыгрузки = "РасходныйКассовыйОрдер" Тогда
	
	ТипОбъекта 	  = "РасходныйКассовыйОрдер";
	ИмяПравилаПКО = "РасходныйКассовыйОрдер";
	
	Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументы);
КонецЕсли;

Отказ = Истина;

</ПередОбработкойПравила>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Алгоритм Имя="ВыполнитьВыгрузкуДокументы" ИспользуетсяПриЗагрузке="false">
			<Текст>Если НЕ ПустаяСтрока(Параметры.КодУзла) И Параметры.ТипОбмена = "ЗагрузкаДокументы_УпрДок" И Не ПустаяСтрока(ИмяПравилаПКО) Тогда
	ДатаГраница = Дата('20200101');
	ПланОбмена = ПланыОбмена.Полный.НайтиПоКоду(Параметры.КодУзла);
	
	Если ПланОбмена &lt;&gt; Неопределено И Не ПланОбмена.Пустая() Тогда 
		
		
		ТекстЗапроса="
		|ВЫБРАТЬ ПЕРВЫЕ 500
		|	ОбъектИзменения.Ссылка.Дата КАК Дата,
		|	ОбъектИзменения.Ссылка.Проведен КАК Проведен,
		|	ОбъектИзменения.Ссылка.ПометкаУдаления КАК ПометкаУдаления,
		|	ОбъектИзменения.Ссылка КАК Ссылка,
		|	ОбъектИзменения.Ссылка.МоментВремени КАК СсылкаМоментВремени,
		|	ОбъектИзменения.НомерСообщения КАК НомерСообщения
		|ИЗ
		|	Документ.%ТипОбъекта%.Изменения КАК ОбъектИзменения
		|ГДЕ
		|	ОбъектИзменения.Узел = &amp;Узел
		|
		|УПОРЯДОЧИТЬ ПО
		|	НомерСообщения УБЫВ,
		|	СсылкаМоментВремени
		|";		
		
		ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "%ТипОбъекта%", ТипОбъекта);
		
		Запрос = Новый Запрос;
		Запрос.Текст = ТекстЗапроса;
		Запрос.УстановитьПараметр("Узел", ПланОбмена);
		
		РезультатЗапроса = Запрос.Выполнить();
		
		Если НЕ РезультатЗапроса.Пустой() Тогда 			
			
			таблРезультат = РезультатЗапроса.Выгрузить();						
			МассивСсылок = таблРезультат.ВыгрузитьКолонку("Ссылка");			
			ПланыОбмена.ВыбратьИзменения(ПланОбмена,1,МассивСсылок);
			
			
			Ит = 0;
			Для Каждого Документ Из таблРезультат Цикл 
				Если Документ.Дата &gt;= ДатаГраница Тогда 
					
					ДляУдаления = Ложь;
					
					Выполнить(Алгоритмы.ПроверкаПередВыгрузкой);
					
					Попытка
						Если ДляУдаления Тогда
							ВыгрузитьПоПравилу(Документ.Ссылка, , , , ИмяПравилаПКО+"_НаУдаление");
						Иначе
							ВыгрузитьПоПравилу(Документ.Ссылка, , , , ИмяПравилаПКО);
						КонецЕсли;	
						
						Ит = Ит + 1;
					Исключение
						ПланыОбмена.ЗарегистрироватьИзменения(ПланОбмена, Документ.Ссылка);  
					КонецПопытки;
				КонецЕсли;			
			КонецЦикла;
			
			ЗаписьЖурналаРегистрации("Выгружено " + ИмяПравилаПКО,,,, "Всего выгружено документов - " + Ит);
		КонецЕсли;
	КонецЕсли;
	
	Отказ = Истина;
КонецЕсли;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ДокументНаУдаление" ИспользуетсяПриЗагрузке="true">
			<Текст>Если ОбъектНайден Тогда
	Объект.ДополнительныеСвойства.Вставить("ОбменТК");
	
	Если Объект.Модифицированность()  Тогда
		
		Объект.Записать();
		
	КонецЕсли;
	
	Объект.УстановитьПометкуУдаления(Истина);
	Объект.Записать();
	ОбъектМодифицирован = Ложь;
	
КонецЕсли;

Отказ = Истина;
</Текст>
		</Алгоритм>
		<Алгоритм Имя="НайтиДоговорПоставки" ИспользуетсяПриЗагрузке="true">
			<Текст>	Запрос = Новый Запрос;
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	ДоговорыКонтрагентов.Ссылка КАК Ссылка
	|ИЗ
	|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|ГДЕ
	|	НЕ ДоговорыКонтрагентов.ПометкаУдаления
	|	И ДоговорыКонтрагентов.Контрагент = &amp;Контрагент
	|	И ДоговорыКонтрагентов.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоров.Покупка)
	|	И ДоговорыКонтрагентов.Организация = &amp;Организация";
	
	Запрос.УстановитьПараметр("Контрагент", Объект.Контрагент);
	Запрос.УстановитьПараметр("Организация", Объект.Организация);
	
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		Объект.ДоговорВзаиморасчетов = Выборка.Ссылка;
	Иначе
		
		Запрос = Новый Запрос;
		Запрос.Текст = 
		"ВЫБРАТЬ
		|	РасчетыСПоставщикамиОстатки.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов
		|ИЗ
		|	РегистрНакопления.РасчетыСПоставщиками.Остатки(
		|			,
		|			Контрагент = &amp;Контрагент
		|					И ДоговорВзаиморасчетов.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоров.Покупка)) КАК РасчетыСПоставщикамиОстатки";
		
		Запрос.УстановитьПараметр("ВидДоговора", Перечисления.ВидыДоговоров.Покупка);
		Запрос.УстановитьПараметр("Контрагент", Объект.Контрагент);
		
		РезультатЗапроса = Запрос.Выполнить();
		
		ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();
		
		Если  ВыборкаДетальныеЗаписи.Следующий() Тогда
			Объект.ДоговорВзаиморасчетов =  ВыборкаДетальныеЗаписи.ДоговорВзаиморасчетов;
			Объект.Организация           = Объект.ДоговорВзаиморасчетов.Организация;	
			//Объект.ПодразделениеКомпании =  Объект.ДоговорВзаиморасчетов.Подразделение;
			
		Иначе
			Объект.ДоговорВзаиморасчетов = Справочники.ДоговорыКонтрагентов.ПустаяСсылка();
		КонецЕсли;
		
	КонецЕсли;
	
</Текст>
		</Алгоритм>
		<Алгоритм Имя="ПроверкаПередВыгрузкой" ИспользуетсяПриЗагрузке="false">
			<Текст>Если Не Документ.Проведен ИЛИ Документ.ПометкаУдаления Тогда
	
	ДляУдаления = Истина;
	
//ПриходныйКассовыйОрдер
ИначеЕсли ИмяПравилаПКО = "ПриходныйКассовыйОрдер" Тогда
	
	Объект = Документ.Ссылка;
	
	Если Объект.ВидОперации &lt;&gt; Перечисления.ВидыОперацийПКО.ПриходДенежныхСредствПрочее Тогда
		
		Если Объект.РасшифровкаПлатежа.Количество()&gt;0 Тогда
			Если НЕ Объект.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком Тогда
				Если Параметры.СписокПерегружаемыхСчетов.НайтиПоЗначению(Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом) = Неопределено   Тогда
					ДляУдаления = Истина;
				КонецЕсли;
			КонецЕсли;  
			
		КонецЕсли;
	Иначе
		Если Параметры.СписокДДС.НайтиПоЗначению(Объект.СтатьяДвиженияДенежныхСредств) = Неопределено Тогда
			ДляУдаления = Истина;
		КонецЕсли;	
		
	КонецЕсли;	
	
	//Если НЕ ДляУдаления Тогда
	//	Если Параметры.СоответствиеПодразделений.Получить(Объект.Подразделение) = Неопределено	Тогда
	//		ДляУдаления = Истина;
	//	КонецЕсли;
	//КонецЕсли;
	
	Если НЕ ДляУдаления Тогда
		
		Если  Объект.ВидОперации =  Перечисления.ВидыОперацийПКО.ОплатаПокупателя ИЛИ  Объект.ВидОперации =  Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком Тогда
			Если  Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств = Неопределено ИЛИ  Параметры.СписокДДС.НайтиПоЗначению(Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств) = Неопределено Тогда
				ДляУдаления = Истина;
			КонецЕсли;
		Иначе
			Если Параметры.СписокПерегружаемыхСчетов.НайтиПоЗначению(Объект.СчетУчетаРасчетовСКонтрагентом) = Неопределено  Тогда
				ДляУдаления = Истина;
			КонецЕсли;
		КонецЕсли;
	КонецЕсли;
	
	Если НЕ ДляУдаления Тогда
		Если  Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом = Параметры.СчетБонус И Параметры.ПодразделенияУдалить.Получить(Объект.Подразделение) &lt;&gt; Неопределено Тогда
			ДляУдаления = Истина;   
		КонецЕсли;
		
	КонецЕсли;
	
//РасходныйКассовыйОрдер	
ИначеЕсли ИмяПравилаПКО = "РасходныйКассовыйОрдер" Тогда 
	
	Объект = Документ.Ссылка;
	
	Если Объект.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику Тогда
				
		Если Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом &lt;&gt; ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПоставщикамиОбщий 
			И Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом &lt;&gt; ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПоставщикамиАссоциация Тогда
			Сообщить( "Отказ РасшифровкаПлатежа "+ Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом);
			
			ДляУдаления = Истина;
		КонецЕсли;
		
	Иначе	
		
		Если Объект.ПометкаУдаления ИЛИ (Объект.ВидОперации = Перечисления.ВидыОперацийРКО.РасходДенежныхСредствПрочее И НЕ ЗначениеЗаполнено(Объект.СубконтоДт2)) Тогда
			Сообщить("Отказ ВидОперации"+Объект.ВидОперации);
			ДляУдаления = Истина;
		Иначе
			
			Если Параметры.СписокДДС.НайтиПоЗначению(Объект.СтатьяДвиженияДенежныхСредств) = Неопределено Тогда
				Сообщить("Отказ СписокДДС"+Объект.СтатьяДвиженияДенежныхСредств);
				
				ДляУдаления = Истина;
			КонецЕсли;
			Если НЕ ДляУдаления Тогда
				Если Объект.ВидОперации = Перечисления.ВидыОперацийРКО.ВозвратДенежныхСредствПокупателю  Тогда
					Если Параметры.СписокПерегружаемыхСчетов.НайтиПоЗначению(Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом) = Неопределено Тогда
				  	  ДляУдаления = Истина;
					КонецЕсли;

				ИначеЕсли  Параметры.СписокПерегружаемыхСчетов.НайтиПоЗначению(Объект.СчетУчетаРасчетовСКонтрагентом) = Неопределено  Тогда
					Сообщить("Отказ СчетУчетаРасчетовСКонтрагентом"+Объект.СчетУчетаРасчетовСКонтрагентом);
					
					ДляУдаления = Истина;
				КонецЕсли;
				
			КонецЕсли;
			
		КонецЕсли;	
	КонецЕсли;	
КонецЕсли;</Текст>
		</Алгоритм>
		<Алгоритм Имя="УстановитьБазуСоздания" ИспользуетсяПриЗагрузке="true">
			<Текст>СвойствоБазаСоздания= ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоРеквизиту("Имя","БазаСоздания");
ЗначениеБазаСоздания= Справочники.ЗначенияСвойствОбъектов.НайтиПоНаименованию("УУ",,,СвойствоБазаСоздания);
строкаБазаСоздания	= Объект.ДополнительныеРеквизиты.Найти(СвойствоБазаСоздания,"Свойство");
Если строкаБазаСоздания = Неопределено Тогда
	строкаБазаСоздания = Объект.ДополнительныеРеквизиты.Добавить();
	строкаБазаСоздания.Свойство = СвойствоБазаСоздания;
	строкаБазаСоздания.Значение = ЗначениеБазаСоздания;
Иначе
	строкаБазаСоздания.Значение = ЗначениеБазаСоздания;
КонецЕсли;
</Текст>
		</Алгоритм>
	</Алгоритмы>
	<Запросы/>
</ПравилаОбмена>