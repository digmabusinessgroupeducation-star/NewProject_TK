<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП20">2.01</ВерсияФормата>
	<Ид>fe734443-4ce9-4312-a401-22163e314562    </Ид>
	<Наименование>ТК_ssl --&gt; Упр док</Наименование>
	<ДатаВремяСоздания>2024-08-29T11:20:00</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="1.0.1.25" СинонимКонфигурации="ТК">ТК</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="1.2.37.1" СинонимКонфигурации="Бухгалтерия для Украины, редакция 1.2">БухгалтерияДляУкраины</Приемник>
	<ПослеЗагрузкиПравилОбмена>Получатель  = ПланыОбмена.ОбменСУпрДок.НайтиПоКоду("BUU"); 

Если Получатель.Пустая() Тогда
	
	НовыйУзел = ПланыОбмена.ОбменСУпрДок.СоздатьУзел();
	НовыйУзел.Код="BUU";
	НовыйУзел.Наименование = "Обмен с базой Упр. док.";
	НовыйУзел.НомерОтправленного = 0;
	НовыйУзел.НомерПринятого = 0;
	НовыйУзел.Записать();
	
	Получатель  = НовыйУзел.Ссылка;
	
Иначе
	
	Если Получатель.ПометкаУдаления ИЛИ            
		Получатель.Наименование &lt;&gt; "Обмен с базой Упр. док." Тогда
		
		Узел = Получатель.ПолучитьОбъект();
		Узел.ПометкаУдаления = Ложь;
		Узел.Наименование = "Обмен с базой Упр. док.";
		Узел.Записать();
		
	КонецЕсли;
	
КонецЕсли;</ПослеЗагрузкиПравилОбмена>
	<ПередВыгрузкойДанных>//Параметры.Вставить("НСИ",Ложь);
//Параметры.Вставить("Получатель",ПланыОбмена.ОбменСУпрДок.НайтиПоКоду("BUU"));

//	Список СтатьиДДС по которым прописаны шаблоны проводок
ПерегружаемыеСтатьиДДС = Новый СписокЗначений;
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.ВыдачаЗП				,"OR0000339");
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.ПеремещениеДС			,"OR0000401");
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.РозничнаяВыручка		,"OR0000393");
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.ВозвратПокупателю		,"OR0000392");
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.ОплатаОтПокупателя	,"OR0000432");
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.ПрочееПоступлениеДС	,"OR0000406");
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.ВнесениеРазменнойМонеты,"OR0000390");
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000172"),"OR0000405");		//--Залог
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000013"),"OR0000270");		//-	Аренда торговых площадей
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000042"),"OR0000339");		//--Авансы
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000046"),"OR0000427");		//-	Выплаты за счет соц. страха
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000016"),"OR0000418");		//--Поступления  от реал. макулатуры
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000174"),"OR0000418");		//--Поступления  от реал. макулатуры  Область
ПерегружаемыеСтатьиДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("DG000001"),"OR0000401");		//	Инкассация ДС на р/сч (НТС,МПТрейд)

Параметры.Вставить("ПерегружаемыеСтатьиДДС",ПерегружаемыеСтатьиДДС);
Параметры.Вставить("КорректировкаПоАктуСверки",Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60002"));
Параметры.Вставить("СтатьяКорректировкиДляПерегрузкиРеглВУУ",Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60009"));
Параметры.Вставить("ОрганизацияФС", Справочники.Организации.НайтиПоКоду("GL000015"));

//	Кэш шаблонов проводок
КэшШаблонов = Новый ТаблицаЗначений;
КэшШаблонов.Колонки.Добавить("ВидДокумента",Новый ОписаниеТипов("Строка"));
КэшШаблонов.Колонки.Добавить("ШаблонПроводки",Новый ОписаниеТипов("Структура"));

/////	ЗакрытиеСмены	//////
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Отгрузка ТМЦ";
ШаблонПроводки.ВидДокумента		= "ЗакрытиеСмены";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ЗакрытиеСмены;
ШаблонПроводки.СчДебета			= "303";
ШаблонПроводки.СубконтоДебета1	= "КассаНереглам";
ШаблонПроводки.СубконтоДебета2	= "ДДС";
ШаблонПроводки.СчКредита		= "702";
ШаблонПроводки.СубконтоКредита1	= "Статьи_доходов";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ТекстЗапроса		= "ВЫБРАТЬ
            		  |	Касса.КассаНереглам КАК КассаНереглам,
            		  |	""Выручка от реализации товаров"" КАК ДДС,
            		  |	""Реал. товаров кон. потребителю"" КАК Статьи_доходов,
            		  |	Продажи.СкладКомпании.ТорговаяПлощадка КАК Объекты,
            		  |	Продажи.СуммаПродаж - ЕСТЬNULL(Эквайринг.СуммаТерминал, 0) + ЕСТЬNULL(Выигрыш.СуммаВыигрыша, 0) КАК СуммаВсего
            		  |ИЗ
            		  |	(ВЫБРАТЬ
            		  |		СУММА(ЗакрытиеСменыОплатаПлатежнымиКартами.Сумма) КАК СуммаТерминал
            		  |	ИЗ
            		  |		Документ.ЗакрытиеСмены.ОплатаПлатежнымиКартами КАК ЗакрытиеСменыОплатаПлатежнымиКартами
            		  |	ГДЕ
            		  |		ЗакрытиеСменыОплатаПлатежнымиКартами.Ссылка = &amp;Регистратор
            		  |		И ЗакрытиеСменыОплатаПлатежнымиКартами.Ссылка.Проведен) КАК Эквайринг,
            		  |	(ВЫБРАТЬ
            		  |		СУММА(ЗакрытиеСменыТовары.СуммаВсего) КАК СуммаВыигрыша
            		  |	ИЗ
            		  |		Документ.ЗакрытиеСмены.Товары КАК ЗакрытиеСменыТовары
            		  |	ГДЕ
            		  |		ЗакрытиеСменыТовары.Ссылка = &amp;Регистратор
            		  |		И ЗакрытиеСменыТовары.Ссылка.Проведен
            		  |		И ЗакрытиеСменыТовары.Номенклатура = &amp;НоменклатураВыигрыш) КАК Выигрыш,
            		  |	(ВЫБРАТЬ
            		  |		Продажи.СкладКомпании КАК СкладКомпании,
            		  |		СУММА(Продажи.СуммаУпр) КАК СуммаПродаж
            		  |	ИЗ
            		  |		РегистрНакопления.Продажи КАК Продажи
            		  |	ГДЕ
            		  |		Продажи.Регистратор = &amp;Регистратор
            		  |		И Продажи.ХозОперация В ИЕРАРХИИ(&amp;ХозОперация)
            		  |	
            		  |	СГРУППИРОВАТЬ ПО
            		  |		Продажи.СкладКомпании) КАК Продажи,
            		  |	(ВЫБРАТЬ РАЗЛИЧНЫЕ
            		  |		МАКСИМУМ(Касса.КассоваяСмена.КассаККМ.Касса) КАК КассаНереглам
            		  |	ИЗ
            		  |		Документ.ЗакрытиеСмены.СнятыеКассы КАК Касса
            		  |	ГДЕ
            		  |		Касса.Ссылка.Ссылка = &amp;Регистратор
            		  |		И Касса.Ссылка.Проведен) КАК Касса";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ЗакрытиеСмены";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

/////	ПоступлениеТоваров	//////
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Оприходованы ТМЦ с НДС";
ШаблонПроводки.ВидДокумента		= "ПоступлениеТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПоступлениеТоваров;
ШаблонПроводки.СчДебета			= "281";
ШаблонПроводки.СубконтоДебета1	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоДебета2	= "Объекты";
ШаблонПроводки.СубконтоДебета3	= "СкладКомпании";
ШаблонПроводки.СчКредита		= "6311";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПоступлениеТоваровТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	ПоступлениеТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК Объекты,
                           		  |	ПоступлениеТоваровТовары.Ссылка.СкладКомпании КАК СкладКомпании,
                           		  |	ПоступлениеТоваровТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |	ПоступлениеТоваровТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	СУММА(ЕСТЬNULL(ПоступлениеТоваровТовары.СуммаВсего, 0)) КАК СуммаВсего
                           		  |ИЗ
                           		  |	Документ.ПоступлениеТоваров.Товары КАК ПоступлениеТоваровТовары
                           		  |ГДЕ
                           		  |	ПоступлениеТоваровТовары.Ссылка = &amp;Регистратор
                           		  |	И ПоступлениеТоваровТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	И ПоступлениеТоваровТовары.Ссылка.Проведен
                           		  |	И ПоступлениеТоваровТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	ПоступлениеТоваровТовары.Ссылка.ДоговорВзаиморасчетов,
                           		  |	ПоступлениеТоваровТовары.Ссылка.Контрагент,
                           		  |	ПоступлениеТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка,
                           		  |	ПоступлениеТоваровТовары.Номенклатура.ГруппаЦенообразования,
                           		  |	ПоступлениеТоваровТовары.Ссылка.СкладКомпании";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПоступлениеТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Оприходованы ТМЦ с НДС";
ШаблонПроводки.ВидДокумента		= "ПоступлениеТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПоступлениеТоваровТранзиты;
ШаблонПроводки.СчДебета			= "281";
ШаблонПроводки.СубконтоДебета1	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоДебета2	= "Объекты";
ШаблонПроводки.СубконтоДебета3	= "СкладКомпании";
ШаблонПроводки.СчКредита		= "6311";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПоступлениеТоваровТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	ПоступлениеТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК Объекты,
                           		  |	ПоступлениеТоваровТовары.Ссылка.СкладКомпании КАК СкладКомпании,
                           		  |	ПоступлениеТоваровТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |	ПоступлениеТоваровТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	СУММА(ЕСТЬNULL(ПоступлениеТоваровТовары.СуммаВсего, 0)) КАК СуммаВсего
                           		  |ИЗ
                           		  |	Документ.ПоступлениеТоваров.Товары КАК ПоступлениеТоваровТовары
                           		  |ГДЕ
                           		  |	ПоступлениеТоваровТовары.Ссылка = &amp;Регистратор
                           		  |	И ПоступлениеТоваровТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	И ПоступлениеТоваровТовары.Ссылка.Проведен
                           		  |	И ПоступлениеТоваровТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	ПоступлениеТоваровТовары.Ссылка.ДоговорВзаиморасчетов,
                           		  |	ПоступлениеТоваровТовары.Ссылка.Контрагент,
                           		  |	ПоступлениеТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка,
                           		  |	ПоступлениеТоваровТовары.Номенклатура.ГруппаЦенообразования,
                           		  |	ПоступлениеТоваровТовары.Ссылка.СкладКомпании";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПоступлениеТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

/////	ВозвратПоставщику	//////
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Возврат ТМЦ";
ШаблонПроводки.ВидДокумента		= "ВозвратПоставщику";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ВозвратТоваровПоставщику;
ШаблонПроводки.СчДебета			= "6311";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "281";
ШаблонПроводки.СубконтоКредита1	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоКредита2	= "Объекты";
ШаблонПроводки.СубконтоКредита3	= "СкладКомпании";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВозвратПоставщикуТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |	ВозвратПоставщикуТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ВозвратПоставщикуТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	ВозвратПоставщикуТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК Объекты,
                           		  |	ВозвратПоставщикуТовары.Ссылка.СкладКомпании КАК СкладКомпании,
                           		  |	СУММА(ВозвратПоставщикуТовары.Сумма) КАК СуммаВсего
                           		  |ИЗ
                           		  |	Документ.ВозвратПоставщику.Товары КАК ВозвратПоставщикуТовары
                           		  |ГДЕ
                           		  |	ВозвратПоставщикуТовары.Ссылка = &amp;Регистратор
                           		  |	И ВозвратПоставщикуТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	И ВозвратПоставщикуТовары.Ссылка.Проведен
                           		  |	И ВозвратПоставщикуТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	ВозвратПоставщикуТовары.Ссылка.Контрагент,
                           		  |	ВозвратПоставщикуТовары.Ссылка.СкладКомпании,
                           		  |	ВозвратПоставщикуТовары.Ссылка.ДоговорВзаиморасчетов,
                           		  |	ВозвратПоставщикуТовары.Номенклатура.ГруппаЦенообразования,
                           		  |	ВозвратПоставщикуТовары.Ссылка.СкладКомпании.ТорговаяПлощадка";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ВозвратПоставщику";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Возврат ТМЦ";
ШаблонПроводки.ВидДокумента		= "ВозвратПоставщику";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ВозвратТоваровПоставщикуТранзиты;
ШаблонПроводки.СчДебета			= "6311";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "281";
ШаблонПроводки.СубконтоКредита1	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоКредита2	= "Объекты";
ШаблонПроводки.СубконтоКредита3	= "СкладКомпании";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВозвратПоставщикуТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |	ВозвратПоставщикуТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ВозвратПоставщикуТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	ВозвратПоставщикуТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК Объекты,
                           		  |	ВозвратПоставщикуТовары.Ссылка.СкладКомпании КАК СкладКомпании,
                           		  |	СУММА(ВозвратПоставщикуТовары.Сумма) КАК СуммаВсего
                           		  |ИЗ
                           		  |	Документ.ВозвратПоставщику.Товары КАК ВозвратПоставщикуТовары
                           		  |ГДЕ
                           		  |	ВозвратПоставщикуТовары.Ссылка = &amp;Регистратор
                           		  |	И ВозвратПоставщикуТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	И ВозвратПоставщикуТовары.Ссылка.Проведен
                           		  |	И ВозвратПоставщикуТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	ВозвратПоставщикуТовары.Ссылка.Контрагент,
                           		  |	ВозвратПоставщикуТовары.Ссылка.СкладКомпании,
                           		  |	ВозвратПоставщикуТовары.Ссылка.ДоговорВзаиморасчетов,
                           		  |	ВозвратПоставщикуТовары.Номенклатура.ГруппаЦенообразования,
                           		  |	ВозвратПоставщикуТовары.Ссылка.СкладКомпании.ТорговаяПлощадка";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ВозвратПоставщику";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

/////	Взаимозачет	/////
//	00000066	//;
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Взаимозачет";
ШаблонПроводки.ВидДокумента		= "Взаимозачет";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.Взаимозачет;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Дебитор";
ШаблонПроводки.СубконтоДебета2	= "ДоговорДебитор";
ШаблонПроводки.СчКредита		= "6311";
ШаблонПроводки.СубконтоКредита1	= "Кредитор";
ШаблонПроводки.СубконтоКредита2	= "ДоговорКредитор";
ШаблонПроводки.ФормулаСуммы		= "-Сумма";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВзаимозачетСостав.Ссылка.Дебитор КАК Дебитор,
                           		  |	ВзаимозачетСостав.ДоговорВзаиморасчетовДебитор КАК ДоговорДебитор,
                           		  |	ВзаимозачетСостав.Ссылка.Кредитор КАК Кредитор,
                           		  |	ВзаимозачетСостав.ДоговорВзаиморасчетовКредитор КАК ДоговорКредитор,
                           		  |	ПРЕДСТАВЛЕНИЕССЫЛКИ(ВзаимозачетСостав.ДоговорВзаиморасчетовДебитор.ВидДоговора) КАК ВидДоговораД,
                           		  |	ПРЕДСТАВЛЕНИЕССЫЛКИ(ВзаимозачетСостав.ДоговорВзаиморасчетовКредитор.ВидДоговора) КАК ВидДоговораК,
                           		  |	ВзаимозачетСостав.Сумма КАК Сумма
                           		  |ИЗ
                           		  |	Документ.ТК_Взаимозачет.Состав КАК ВзаимозачетСостав
                           		  |ГДЕ
                           		  |	ВзаимозачетСостав.Ссылка = &amp;Регистратор
                           		  |	И ВзаимозачетСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	И ВзаимозачетСостав.Ссылка.РегламентированныйУчет = ЛОЖЬ
                           		  |	И ВзаимозачетСостав.Ссылка.Проведен";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_Взаимозачет";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

/////	ВозвратОтПокупателя	/////
//	00000027	//;
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Возврат ТМЦ от покупателей с НДС";
ШаблонПроводки.ВидДокумента		= "ВозвратОтПокупателя";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ВозвратТоваровОтПокупателя;
ШаблонПроводки.СчДебета			= "704";
ШаблонПроводки.СубконтоДебета1	= "СтатьяДохода";
ШаблонПроводки.СубконтоДебета2	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "3611";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	""Торговая выручка"" КАК СтатьяДохода,
                           		  |	ВозвратОтПокупателяТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	ВозвратОтПокупателяТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	ВозвратОтПокупателяТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |	ВозвратОтПокупателяТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	СУММА(ВозвратОтПокупателяТовары.СуммаВсего) КАК СуммаВсего
                           		  |ИЗ
                           		  |	Документ.ВозвратОтПокупателя.Товары КАК ВозвратОтПокупателяТовары
                           		  |ГДЕ
                           		  |	ВозвратОтПокупателяТовары.Ссылка.Проведен
                           		  |	И ВозвратОтПокупателяТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |	И ВозвратОтПокупателяТовары.Ссылка = &amp;Регистратор
                           		  |	И ВозвратОтПокупателяТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	ВозвратОтПокупателяТовары.Ссылка.Контрагент,
                           		  |	ВозвратОтПокупателяТовары.Ссылка.СкладКомпании.ТорговаяПлощадка,
                           		  |	ВозвратОтПокупателяТовары.Ссылка.ДоговорВзаиморасчетов,
                           		  |	ВозвратОтПокупателяТовары.Номенклатура.ГруппаЦенообразования";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ВозвратОтПокупателя";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

/////	ПриходныйКассовыйОрдер	/////
//	00000028	//;
Отбор28 = Новый Массив;
Отбор28.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("GL000013")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Аренда торговых площадей";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "3613";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор28;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПриходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	ПриходныйКассовыйОрдер.Контрагент КАК Контрагент,
                           		  |	ПриходныйКассовыйОрдер.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000012	//;
Отбор12 = Новый Массив;
Отбор12.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("1007")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Другие поступления";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "718";
ШаблонПроводки.СубконтоКредита1	= "СтатьяДоходов";
ШаблонПроводки.СубконтоКредита2	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор12;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПриходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	""Излишки"" КАК СтатьяДоходов,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000036	//;
Отбор36 = Новый Массив;
Отбор36.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("GL000172")));
Отбор36.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ПарамКонтрагент",ВидСравнения.Равно,Справочники.Контрагенты.НайтиПоКоду("11111116")));
Отбор36.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ПарамДоговор",ВидСравнения.Равно,Справочники.ДоговорыКонтрагентов.НайтиПоКоду("GL016551")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Залог";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "3611";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "Договор";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор36;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПриходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	спрКонтрагенты.Ссылка КАК Контрагент,
                           		  |	спрДоговоры.Ссылка КАК Договор,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер,
                           		  |	Справочник.ДоговорыКонтрагентов КАК спрДоговоры,
                           		  |	Справочник.Контрагенты КАК спрКонтрагенты
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*,
                           		  |	спрКонтрагенты.Ссылка.* КАК ПарамКонтрагент,
                           		  |	спрДоговоры.Ссылка.* КАК ПарамДоговор}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000010	//;
Отбор10 = Новый Массив;
Отбор10.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("1003")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Инкассация операционной кассы";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "303";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор10;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПриходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.СуммаДокумента = 300
                           		  |			ТОГДА ""РазменДляМагазинов""
                           		  |		ИНАЧЕ ПриходныйКассовыйОрдер.СтатьяДДС
                           		  |	КОНЕЦ КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	""Выручка от реализации товаров"" КАК СтатьяДД303,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000019	//;
Отбор19 = Новый Массив;
Отбор19.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("2008")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Инкассация операционной кассы";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "303";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор19;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПриходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000011	//;
Отбор11 = Новый Массив;
Отбор11.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("1001")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Оплата покупателя";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "3611";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор11;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПриходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	ПриходныйКассовыйОрдер.Контрагент КАК Контрагент,
                           		  |	ПриходныйКассовыйОрдер.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000042	//;
Отбор42 = Новый Массив;
Отбор42.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("3001")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Перемещение ДС между кассами компании";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "333";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор42;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПриходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000040	//;
Отбор4041 = Новый Массив;
Отбор4041.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("GL000016")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Поступления  от реал. макулатуры";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДСМакулатура";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "719";
ШаблонПроводки.СубконтоКредита1	= "СтатьяДоходов";
ШаблонПроводки.СубконтоКредита2	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор4041;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПриходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДСМакулатура,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	""Макулатура"" КАК СтатьяДоходов,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000041	//;
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Поступления  от реал. макулатуры";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "719";
ШаблонПроводки.СубконтоДебета1	= "СтатьяДоходов";
ШаблонПроводки.СубконтоДебета2	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "791";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор4041;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	""Макулатура"" КАК СтатьяДоходов,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000072	//;
Отбор72 = Новый Массив;
Отбор72.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("GL000174")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Поступления  от реал. макулатуры";
ШаблонПроводки.ВидДокумента		= "ПриходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.ПриходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДСМакулатура";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "3611";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор72;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ПриходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДСМакулатура,
                           		  |	ВЫБОР
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА ПриходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК ТорговаяПлощадка,
                           		  |	ПриходныйКассовыйОрдер.Контрагент КАК Контрагент,
                           		  |	ПриходныйКассовыйОрдер.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	""Макулатура"" КАК СтатьяДоходов,
                           		  |	ПриходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.ПриходныйКассовыйОрдер КАК ПриходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	ПриходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И ПриходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И ПриходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	ПриходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ПриходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

/////	РасходныйКассовыйОрдер	/////
//	00000034	//;
Отбор34 = Новый Массив;
Отбор34.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("GL000046")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Больничные";
ШаблонПроводки.ВидДокумента		= "РасходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РасходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "663";
ШаблонПроводки.СубконтоДебета1	= "Выдать";
ШаблонПроводки.СубконтоДебета2	= "Объекты";
ШаблонПроводки.СчКредита		= "301";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор34;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	РасходныйКассовыйОрдер.Выдать КАК Выдать,
                           		  |	ВЫБОР
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК Объекты,
                           		  |	РасходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	РасходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.РасходныйКассовыйОрдер КАК РасходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	РасходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И РасходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И РасходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РасходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000006	//;
Отбор06 = Новый Массив;
Отбор06.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("2008")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Внесение разменной монеты";
ШаблонПроводки.ВидДокумента		= "РасходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РасходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "303";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СчКредита		= "301";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор06;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	РасходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК Объекты,
                           		  |	РасходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.РасходныйКассовыйОрдер КАК РасходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	РасходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И РасходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И РасходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РасходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000008	//;
Отбор08 = Новый Массив;
Отбор08.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"РегламентированныйУчет",ВидСравнения.Равно,Ложь));
Отбор08.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("2004")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Возврат денежных средств покупателю";
ШаблонПроводки.ВидДокумента		= "РасходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РасходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "301";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор08;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	РасходныйКассовыйОрдер.Контрагент КАК Контрагент,
                           		  |	РасходныйКассовыйОрдер.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	РасходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК Объекты,
                           		  |	РасходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.РасходныйКассовыйОрдер КАК РасходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	РасходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И РасходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И РасходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	РасходныйКассовыйОрдер.РегламентированныйУчет,
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РасходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000037	//;
Отбор37 = Новый Массив;
Отбор37.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("GL000172")));
Отбор37.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ПарамКонтрагент",ВидСравнения.Равно,Справочники.Контрагенты.НайтиПоКоду("11111116")));
Отбор37.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ПарамДоговор",ВидСравнения.Равно,Справочники.ДоговорыКонтрагентов.НайтиПоКоду("GL016551")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Залог";
ШаблонПроводки.ВидДокумента		= "РасходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РасходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "Договор";
ШаблонПроводки.СчКредита		= "301";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор37;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	спрКонтрагенты.Ссылка КАК Контрагент,
                           		  |	спрДоговоры.Ссылка КАК Договор,
                           		  |	РасходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК Объекты,
                           		  |	РасходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.РасходныйКассовыйОрдер КАК РасходныйКассовыйОрдер,
                           		  |	Справочник.ДоговорыКонтрагентов КАК спрДоговоры,
                           		  |	Справочник.Контрагенты КАК спрКонтрагенты
                           		  |ГДЕ
                           		  |	РасходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И РасходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И РасходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС.*,
                           		  |	спрКонтрагенты.Ссылка.* КАК ПарамКонтрагент,
                           		  |	спрДоговоры.Ссылка.* КАК ПарамДоговор}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РасходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000009	//;
спСтатьяДДС = Новый СписокЗначений;
спСтатьяДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000042"));	//	Авансы
спСтатьяДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("2006"));		//	З/плата и др. выплаты приравн. к з/п
Отбор09 = Новый Массив;
Отбор09.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.ВСписке,спСтатьяДДС));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Заработная плата";
ШаблонПроводки.ВидДокумента		= "РасходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РасходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "661";
ШаблонПроводки.СубконтоДебета1	= "Объекты";
ШаблонПроводки.СчКредита		= "301";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор09;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВЫБОР
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК Объекты,
                           		  |	РасходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	РасходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.РасходныйКассовыйОрдер КАК РасходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	РасходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И РасходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И РасходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РасходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000031	//;
спСтатьяДДС = Новый СписокЗначений;
спСтатьяДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000042"));	//	Авансы
спСтатьяДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000046"));	//	Выплаты за счет соц. страха
спСтатьяДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("2006"));		//	З/плата и др. выплаты приравн. к з/п
Отбор31 = Новый Массив;
Отбор31.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.ВСписке,спСтатьяДДС));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Инкассация";
ШаблонПроводки.ВидДокумента		= "РасходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РасходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "333";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СчКредита		= "301";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор31;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	РасходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	""Инкассация"" КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК Объекты,
                           		  |	РасходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.РасходныйКассовыйОрдер КАК РасходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	РасходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И РасходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И РасходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РасходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000032	//;
спСтатьяДДС = Новый СписокЗначений;
спСтатьяДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000042"));	//	Авансы
спСтатьяДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("GL000046"));	//	Выплаты за счет соц. страха
спСтатьяДДС.Добавить(Справочники.СтатьиДДС.НайтиПоКоду("2006"));		//	З/плата и др. выплаты приравн. к з/п
Отбор32 = Новый Массив;
Отбор32.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.ВСписке,спСтатьяДДС));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Инкассация";
ШаблонПроводки.ВидДокумента		= "РасходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РасходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "301";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СубконтоДебета3	= "Объекты";
ШаблонПроводки.СчКредита		= "333";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор32;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	РасходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	""Инкассация"" КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК Объекты,
                           		  |	РасходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.РасходныйКассовыйОрдер КАК РасходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	РасходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И РасходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И РасходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РасходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000030	//;
Отбор30 = Новый Массив;
Отбор30.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("DG000001")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Инкассация торговой выручки на РС";
ШаблонПроводки.ВидДокумента		= "РасходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РасходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "333";
ШаблонПроводки.СубконтоДебета1	= "РС";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СчКредита		= "301";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор30;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ТК_СчетаЭкварингаСрезПоследних.БанковскийСчет КАК РС,
                           		  |	РасходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК Объекты,
                           		  |	РасходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.РасходныйКассовыйОрдер КАК РасходныйКассовыйОрдер
                           		  |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ТК_СчетаЭкваринга.СрезПоследних(&amp;НаДату, ТорговаяПлощадка = &amp;ТорговаяПлощадка) КАК ТК_СчетаЭкварингаСрезПоследних
                           		  |		ПО РасходныйКассовыйОрдер.ТорговаяПлощадка = ТК_СчетаЭкварингаСрезПоследних.ТорговаяПлощадка
                           		  |ГДЕ
                           		  |	РасходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И РасходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И РасходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РасходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000007	//;
Отбор07 = Новый Массив;
Отбор07.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДДС",ВидСравнения.Равно,Справочники.СтатьиДДС.НайтиПоКоду("3001")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Перемещение ДС между кассами компании";
ШаблонПроводки.ВидДокумента		= "РасходныйКассовыйОрдер";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РасходныйКассовыйОрдер;
ШаблонПроводки.СчДебета			= "333";
ШаблонПроводки.СубконтоДебета1	= "КассаКомпании";
ШаблонПроводки.СубконтоДебета2	= "СтатьяДДС";
ШаблонПроводки.СчКредита		= "301";
ШаблонПроводки.СубконтоКредита1	= "КассаКомпании";
ШаблонПроводки.СубконтоКредита2	= "СтатьяДДС";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокумента";
ШаблонПроводки.Отборы			= Отбор07;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	РасходныйКассовыйОрдер.КассаКомпании КАК КассаКомпании,
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС КАК СтатьяДДС,
                           		  |	ВЫБОР
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель
                           		  |		КОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |			ТОГДА РасходныйКассовыйОрдер.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |	КОНЕЦ КАК Объекты,
                           		  |	РасходныйКассовыйОрдер.СуммаДокумента КАК СуммаДокумента
                           		  |ИЗ
                           		  |	Документ.РасходныйКассовыйОрдер КАК РасходныйКассовыйОрдер
                           		  |ГДЕ
                           		  |	РасходныйКассовыйОрдер.Ссылка = &amp;Регистратор
                           		  |	И РасходныйКассовыйОрдер.ХозОперация = &amp;ХозОперация
                           		  |	И РасходныйКассовыйОрдер.Проведен
                           		  |{ГДЕ
                           		  |	РасходныйКассовыйОрдер.СтатьяДДС.*}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РасходныйКассовыйОрдер";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

/////	КорректировкаДолга	/////
//	00000056	//;
спВидДоговора = Новый СписокЗначений;
спВидДоговора.Добавить(Справочники.ВидыДоговоров.Поставка);
спВидДоговора.Добавить(Справочники.ВидыДоговоров.Прочее);
спСтатьяДохода = Новый СписокЗначений;
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60007"));	//	Перевод долга	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60012"));	//	Свертка, без Проводок !!!!
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60009"));	//	Корректировка между покупателями	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60016"));	//	Корректировка между покупателями (перевод долга с ф2 в ф1)
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60011"));	//	Свертка маркетингового  начисления с поставкой
Отбор56 = Новый Массив;
Отбор56.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"КонтрагентВидКонтрагента",ВидСравнения.НеРавно,Перечисления.ВидыКонтрагентов.Внутренний));
Отбор56.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ДоговорВзаиморасчетовВидДоговора",ВидСравнения.ВСписке,спВидДоговора));
Отбор56.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.НеВСписке,спСтатьяДохода));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Корректировка долга";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "6311";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "719";
ШаблонПроводки.СубконтоКредита1	= "СтатьиДоходов";
ШаблонПроводки.СубконтоКредита2	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "Движ";
ШаблонПроводки.Отборы			= Отбор56;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	""ДругиеДоходы"" КАК СтатьиДоходов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |	ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |	ВложенныйЗапрос.Движ КАК Движ
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |		ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |		ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |		ВложенныйЗапрос.УвеличениеДолга - ВложенныйЗапрос.УменьшениеДолга КАК Движ
                           		  |	ИЗ
                           		  |		(ВЫБРАТЬ
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ КАК ТорговаяПлощадка,
                           		  |			СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга,
                           		  |			СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |		ИЗ
                           		  |			Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |		ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |			И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |			И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |		{ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент.ВидКонтрагента.*,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов.ВидДоговора.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |		
                           		  |		СГРУППИРОВАТЬ ПО
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ) КАК ВложенныйЗапрос) КАК ВложенныйЗапрос
                           		  |ГДЕ
                           		  |	ВложенныйЗапрос.Движ &gt; 0";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000068	//;
Отбор68 = Новый Массив;
Отбор68.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.Равно,Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60009")));
Отбор68.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ГуппаТоваров",ВидСравнения.Равно,Справочники.ГруппыЦенообразования.Сигареты));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Корректировка долга";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "702";
ШаблонПроводки.СубконтоКредита1	= "СтатьяДоходов";
ШаблонПроводки.СубконтоКредита2	= "ГруппаТовара";
ШаблонПроводки.СубконтоКредита3	= "Объект";
ШаблонПроводки.ФормулаСуммы		= "Сумма";
ШаблонПроводки.Отборы			= Отбор68;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	""ТорговаяВыручка"" КАК СтатьяДоходов,
                           		  |	ГруппыЦенообразования.Ссылка КАК ГруппаТовара,
                           		  |	ВложенныйЗапрос.ОбъектДокумента КАК Объект,
                           		  |	ВложенныйЗапрос.СуммаД + ВложенныйЗапрос.СуммаК КАК Сумма
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |		КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		ВЫБОР
                           		  |			КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |				ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |			КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |				ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |			КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |				ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |			КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |				ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |		КОНЕЦ КАК ОбъектДокумента,
                           		  |		СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК СуммаД,
                           		  |		СУММА(-КорректировкаДолгаСостав.УменьшениеДолга) КАК СуммаК
                           		  |	ИЗ
                           		  |		Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |	ГДЕ
                           		  |		КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |		И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	{ГДЕ
                           		  |		КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |		КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |	
                           		  |	СГРУППИРОВАТЬ ПО
                           		  |		КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |		КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |		ВЫБОР
                           		  |			КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |				ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |			КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |				ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |			КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |				ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |			КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |				ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |		КОНЕЦ) КАК ВложенныйЗапрос,
                           		  |	Справочник.ГруппыЦенообразования КАК ГруппыЦенообразования
                           		  |{ГДЕ
                           		  |	ГруппыЦенообразования.Ссылка.* КАК ГуппаТоваров}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000069	//;
спСтатьяДохода = Новый СписокЗначений;
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60007"));	//	Перевод долга	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60012"));	//	Свертка, без Проводок !!!!
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60009+"));	//	Корректировка между покупателями	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60016+"));	//	Корректировка между покупателями (перевод долга с ф2 в ф1)
Отбор69 = Новый Массив;
Отбор69.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"КонтрагентВидКонтрагента",ВидСравнения.НеРавно,Перечисления.ВидыКонтрагентов.Внутренний));
Отбор69.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ДоговорВзаиморасчетовВидДоговора",ВидСравнения.Равно,Справочники.ВидыДоговоров.Продажа));
Отбор69.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.НеВСписке,спСтатьяДохода));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Корректировка долга";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "719";
ШаблонПроводки.СубконтоКредита1	= "СтатьиДоходов";
ШаблонПроводки.СубконтоКредита2	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "Движ";
ШаблонПроводки.Отборы			= Отбор69;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	""ДругиеДоходы"" КАК СтатьиДоходов,
                           		  |	ВложенныйЗапрос.Объект КАК ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |	ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |	ВложенныйЗапрос.Движ КАК Движ
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |		ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		ВложенныйЗапрос.Объект КАК Объект,
                           		  |		ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |		ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |		ВложенныйЗапрос.УвеличениеДолга - ВложенныйЗапрос.УменьшениеДолга КАК Движ
                           		  |	ИЗ
                           		  |		(ВЫБРАТЬ
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ КАК Объект,
                           		  |			СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга,
                           		  |			СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |		ИЗ
                           		  |			Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |		ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |			И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |			И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |			И КорректировкаДолгаСостав.Ссылка.СуммаДокументаПриход &lt;&gt; КорректировкаДолгаСостав.Ссылка.СуммаДокументаРасход
                           		  |		{ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент.ВидКонтрагента.*,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов.ВидДоговора.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |		
                           		  |		СГРУППИРОВАТЬ ПО
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ) КАК ВложенныйЗапрос) КАК ВложенныйЗапрос
                           		  |ГДЕ
                           		  |	ВложенныйЗапрос.Движ &gt; 0";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000060	//;
спСтатьяДохода = Новый СписокЗначений;
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60009"));	//	Корректировка между покупателями	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60016"));	//	Корректировка между покупателями (перевод долга с ф2 в ф1)
Отбор60 = Новый Массив;
Отбор60.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"КонтрагентВидКонтрагента",ВидСравнения.Равно,Перечисления.ВидыКонтрагентов.Внутренний));
Отбор60.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ДоговорВзаиморасчетовВидДоговора",ВидСравнения.Равно,Справочники.ВидыДоговоров.Поставка));
Отбор60.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.НеВСписке,спСтатьяДохода));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Корректировка долга";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "6313";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "719";
ШаблонПроводки.СубконтоКредита1	= "СтатьиДоходов";
ШаблонПроводки.СубконтоКредита2	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "Движ";
ШаблонПроводки.Отборы			= Отбор60;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	""ДругиеДоходы"" КАК СтатьиДоходов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |	ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |	ВложенныйЗапрос.Движ КАК Движ
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |		ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |		ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |		ВложенныйЗапрос.УвеличениеДолга - ВложенныйЗапрос.УменьшениеДолга КАК Движ
                           		  |	ИЗ
                           		  |		(ВЫБРАТЬ
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ КАК ТорговаяПлощадка,
                           		  |			СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга,
                           		  |			СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |		ИЗ
                           		  |			Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |		ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |			И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |			И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |		{ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент.ВидКонтрагента.*,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов.ВидДоговора.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |		
                           		  |		СГРУППИРОВАТЬ ПО
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ) КАК ВложенныйЗапрос) КАК ВложенныйЗапрос
                           		  |ГДЕ
                           		  |	ВложенныйЗапрос.Движ &gt; 0";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000061	//;
спСтатьяДохода = Новый СписокЗначений;
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60007"));	//	Перевод долга	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60012"));	//	Свертка, без Проводок !!!!
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60008"));	//	Сторно маркетинга (бонусов)
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60009"));	//	Корректировка между покупателями	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60016"));	//	Корректировка между покупателями (перевод долга с ф2 в ф1)
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60011"));	//	Свертка маркетингового  начисления с поставкой
Отбор61 = Новый Массив;
Отбор61.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ДоговорВзаиморасчетовВидДоговора",ВидСравнения.Равно,Справочники.ВидыДоговоров.Продажа));
Отбор61.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.НеВСписке,спСтатьяДохода));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Корректировка долга";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "949";
ШаблонПроводки.СубконтоДебета1	= "СтатьиДоходов";
ШаблонПроводки.СубконтоДебета2	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "3611";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "-Движ";
ШаблонПроводки.Отборы			= Отбор61;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	""ПрочиеРасходы"" КАК СтатьиДоходов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов.Подразделение КАК ПодразделениеДоговора,
                           		  |	ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |	ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |	ВложенныйЗапрос.Движ КАК Движ
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |		ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |		ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |		ВложенныйЗапрос.УвеличениеДолга - ВложенныйЗапрос.УменьшениеДолга КАК Движ
                           		  |	ИЗ
                           		  |		(ВЫБРАТЬ
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ КАК ТорговаяПлощадка,
                           		  |			СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга,
                           		  |			СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |		ИЗ
                           		  |			Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |		ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |			И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |			И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |			И КорректировкаДолгаСостав.Ссылка.СуммаДокументаПриход &lt;&gt; КорректировкаДолгаСостав.Ссылка.СуммаДокументаРасход
                           		  |		{ГДЕ
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов.ВидДоговора.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |		
                           		  |		СГРУППИРОВАТЬ ПО
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ) КАК ВложенныйЗапрос) КАК ВложенныйЗапрос
                           		  |ГДЕ
                           		  |	ВложенныйЗапрос.Движ &lt; 0";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000091	//;
спСтатьяДохода = Новый СписокЗначений;
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60007"));	//	Перевод долга	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60012"));	//	Свертка, без Проводок !!!!
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60009"));	//	Корректировка между покупателями	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60016"));	//	Корректировка между покупателями (перевод долга с ф2 в ф1)
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60011"));	//	Свертка маркетингового  начисления с поставкой
Отбор91 = Новый Массив;
Отбор91.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.НеВСписке,спСтатьяДохода));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Корректировка долга Движ &lt; 0 ДТ-719 КТ-791";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "719";
ШаблонПроводки.СубконтоДебета1	= "СтатьиДоходов";
ШаблонПроводки.СубконтоДебета2	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "791";
ШаблонПроводки.ФормулаСуммы		= "-Движ";
ШаблонПроводки.Отборы			= Отбор91;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	""ДругиеДоходы"" КАК СтатьиДоходов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |	ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |	ВложенныйЗапрос.Движ КАК Движ
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |		ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |		ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |		ВложенныйЗапрос.УвеличениеДолга - ВложенныйЗапрос.УменьшениеДолга КАК Движ
                           		  |	ИЗ
                           		  |		(ВЫБРАТЬ
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ КАК ТорговаяПлощадка,
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |			СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга,
                           		  |			СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |		ИЗ
                           		  |			Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |		ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |			И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |			И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |			И КорректировкаДолгаСостав.Ссылка.СуммаДокументаПриход &lt;&gt; КорректировкаДолгаСостав.Ссылка.СуммаДокументаРасход
                           		  |		{ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |		
                           		  |		СГРУППИРОВАТЬ ПО
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ) КАК ВложенныйЗапрос) КАК ВложенныйЗапрос
                           		  |ГДЕ
                           		  |	ВложенныйЗапрос.Движ &lt; 0";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000057	//;
спСтатьяДохода = Новый СписокЗначений;
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60007"));	//	Перевод долга	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60012"));	//	Свертка, без Проводок !!!!
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60009"));	//	Корректировка между покупателями	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60016"));	//	Корректировка между покупателями (перевод долга с ф2 в ф1)
Отбор57 = Новый Массив;
Отбор57.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ДоговорВзаиморасчетовВидДоговора",ВидСравнения.Равно,Справочники.ВидыДоговоров.Поставка));
Отбор57.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.НеВСписке,спСтатьяДохода));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Корректировка долга Движ &lt; 0 ДТ-949 КТ-6311";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "949";
ШаблонПроводки.СубконтоДебета1	= "СтатьиДоходов";
ШаблонПроводки.СубконтоДебета2	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "6311";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "-Движ";
ШаблонПроводки.Отборы			= Отбор57;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	""ПрочиеРасходы"" КАК СтатьиДоходов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |	ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |	ВложенныйЗапрос.Движ КАК Движ
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |		ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |		ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |		ВложенныйЗапрос.УвеличениеДолга - ВложенныйЗапрос.УменьшениеДолга КАК Движ
                           		  |	ИЗ
                           		  |		(ВЫБРАТЬ
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ КАК ТорговаяПлощадка,
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |			СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга,
                           		  |			СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |		ИЗ
                           		  |			Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |		ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |			И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |			И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |		{ГДЕ
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов.ВидДоговора.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |		
                           		  |		СГРУППИРОВАТЬ ПО
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ) КАК ВложенныйЗапрос) КАК ВложенныйЗапрос
                           		  |ГДЕ
                           		  |	ВложенныйЗапрос.Движ &lt; 0";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000059	//;
спСтатьяДохода = Новый СписокЗначений;
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60007"));	//	Перевод долга	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60012"));	//	Свертка, без Проводок !!!!
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60009"));	//	Корректировка между покупателями	
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60016"));	//	Корректировка между покупателями (перевод долга с ф2 в ф1)
спСтатьяДохода.Добавить(Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60011"));	//	Свертка маркетингового  начисления с поставкой
Отбор59 = Новый Массив;
Отбор59.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.НеВСписке,спСтатьяДохода));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Корректировка долга Движ &gt; 0 ДТ-719 КТ-791";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "719";
ШаблонПроводки.СубконтоДебета1	= "СтатьиДоходов";
ШаблонПроводки.СубконтоДебета2	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "791";
ШаблонПроводки.ФормулаСуммы		= "Движ";
ШаблонПроводки.Отборы			= Отбор59;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	""ДругиеДоходы"" КАК СтатьиДоходов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |	ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |	ВложенныйЗапрос.Движ КАК Движ
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |		ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |		ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |		ВложенныйЗапрос.УвеличениеДолга - ВложенныйЗапрос.УменьшениеДолга КАК Движ
                           		  |	ИЗ
                           		  |		(ВЫБРАТЬ
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ КАК ТорговаяПлощадка,
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |			СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга,
                           		  |			СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |		ИЗ
                           		  |			Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |		ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |			И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |			И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |			И КорректировкаДолгаСостав.Ссылка.СуммаДокументаПриход &lt;&gt; КорректировкаДолгаСостав.Ссылка.СуммаДокументаРасход
                           		  |		{ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |		
                           		  |		СГРУППИРОВАТЬ ПО
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ) КАК ВложенныйЗапрос) КАК ВложенныйЗапрос
                           		  |ГДЕ
                           		  |	ВложенныйЗапрос.Движ &gt; 0";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000081	//;
Отбор81 = Новый Массив;
Отбор81.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ДоговорВзаиморасчетовВидДоговора",ВидСравнения.Равно,Справочники.ВидыДоговоров.Продажа));
Отбор81.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяРасхода",ВидСравнения.Равно,Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60007")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Перевод долга";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "3611";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "-УменьшениеДолга";
ШаблонПроводки.Отборы			= Отбор81;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |	КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	КорректировкаДолгаСостав.Ссылка.СтатьяРасхода КАК СтатьяРасхода,
                           		  |	СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |ИЗ
                           		  |	Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |ГДЕ
                           		  |	КорректировкаДолгаСостав.УменьшениеДолга &lt;&gt; 0
                           		  |	И КорректировкаДолгаСостав.Ссылка.Ссылка = &amp;Регистратор
                           		  |	И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |	И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |{ГДЕ
                           		  |	КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*,
                           		  |	КорректировкаДолгаСостав.ДоговорВзаиморасчетов.ВидДоговора.*}
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |	КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |	КорректировкаДолгаСостав.Ссылка.СтатьяРасхода";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000082	//;
Отбор82 = Новый Массив;
Отбор82.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяРасхода",ВидСравнения.Равно,Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60007")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Перевод долга";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "3611";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.ФормулаСуммы		= "УвеличениеДолга";
ШаблонПроводки.Отборы			= Отбор82;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |	КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	КорректировкаДолгаСостав.Ссылка.СтатьяРасхода КАК СтатьяРасхода,
                           		  |	СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга
                           		  |ИЗ
                           		  |	Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |ГДЕ
                           		  |	КорректировкаДолгаСостав.УвеличениеДолга &lt;&gt; 0
                           		  |	И КорректировкаДолгаСостав.Ссылка.Ссылка = &amp;Регистратор
                           		  |	И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |	И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |{ГДЕ
                           		  |	КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |	КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |	КорректировкаДолгаСостав.Ссылка.СтатьяРасхода";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000079	//;
Отбор79 = Новый Массив;
Отбор79.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"Статья",ВидСравнения.Равно,Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60011")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Свертка бонусов и поставки";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "6311";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорУвД";
ШаблонПроводки.СчКредита		= "3612";
ШаблонПроводки.СубконтоКредита1	= "Контрагент";
ШаблонПроводки.СубконтоКредита2	= "ДоговорУмД";
ШаблонПроводки.ФормулаСуммы		= "СуммаДокументаПриход";
ШаблонПроводки.Отборы			= Отбор79;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	МАКСИМУМ(КорректировкаДолгаСостав.Ссылка.Контрагент) КАК Контрагент,
                           		  |	МАКСИМУМ(ВЫБОР
                           		  |			КОГДА КорректировкаДолгаСостав.УвеличениеДолга &gt; 0
                           		  |				ТОГДА КорректировкаДолгаСостав.ДоговорВзаиморасчетов
                           		  |		КОНЕЦ) КАК ДоговорУвД,
                           		  |	МАКСИМУМ(ВЫБОР
                           		  |			КОГДА КорректировкаДолгаСостав.УменьшениеДолга &gt; 0
                           		  |				ТОГДА КорректировкаДолгаСостав.ДоговорВзаиморасчетов
                           		  |		КОНЕЦ) КАК ДоговорУмД,
                           		  |	МАКСИМУМ(КорректировкаДолгаСостав.Ссылка.СуммаДокументаПриход) КАК СуммаДокументаПриход
                           		  |ИЗ
                           		  |	Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |ГДЕ
                           		  |	КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |	И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	И КорректировкаДолгаСостав.Ссылка.СуммаДокументаПриход = КорректировкаДолгаСостав.Ссылка.СуммаДокументаРасход
                           		  |	И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |{ГДЕ
                           		  |	КорректировкаДолгаСостав.Ссылка.СтатьяДохода.* КАК Статья}";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000078	//;
Отбор78 = Новый Массив;
Отбор78.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ДоговорВзаиморасчетовВидДоговора",ВидСравнения.Равно,Справочники.ВидыДоговоров.Продажа));
Отбор78.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.Равно,Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60008")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Сторно маркетинга (бонусов)";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "3612";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "703";
ШаблонПроводки.СубконтоКредита1	= "ТипБонуса";
ШаблонПроводки.СубконтоКредита2	= "НоменклатураГруппаЦенообразования";
ШаблонПроводки.СубконтоКредита3	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "Движ";
ШаблонПроводки.Отборы			= Отбор78;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ВложенныйЗапрос.ТипБонуса КАК ТипБонуса,
                           		  |	ВложенныйЗапрос.НоменклатураГруппаЦенообразования КАК НоменклатураГруппаЦенообразования,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	""ПрочиеРасходы"" КАК СтатьиДоходов,
                           		  |	ВложенныйЗапрос.Движ КАК Движ
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |		ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		ВложенныйЗапрос.ТипБонуса КАК ТипБонуса,
                           		  |		ВложенныйЗапрос.НоменклатураГруппаЦенообразования КАК НоменклатураГруппаЦенообразования,
                           		  |		ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |		ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |		ВложенныйЗапрос.УвеличениеДолга - ВложенныйЗапрос.УменьшениеДолга КАК Движ
                           		  |	ИЗ
                           		  |		(ВЫБРАТЬ
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |			МАКСИМУМ(РеализацияТоваровТовары.ТипБонуса) КАК ТипБонуса,
                           		  |			МАКСИМУМ(РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования) КАК НоменклатураГруппаЦенообразования,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ КАК ТорговаяПлощадка,
                           		  |			СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга,
                           		  |			СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |		ИЗ
                           		  |			Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |				ЛЕВОЕ СОЕДИНЕНИЕ Документ.РеализацияТоваров.Товары КАК РеализацияТоваровТовары
                           		  |				ПО КорректировкаДолгаСостав.Сделка = РеализацияТоваровТовары.Ссылка
                           		  |		ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |			И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |			И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |		{ГДЕ
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов.ВидДоговора.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |		
                           		  |		СГРУППИРОВАТЬ ПО
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ) КАК ВложенныйЗапрос) КАК ВложенныйЗапрос
                           		  |ГДЕ
                           		  |	ВложенныйЗапрос.Движ &lt; 0";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000083	//;
Отбор83 = Новый Массив;
Отбор83.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"ДоговорВзаиморасчетовВидДоговора",ВидСравнения.Равно,Справочники.ВидыДоговоров.Продажа));
Отбор83.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"СтатьяДохода",ВидСравнения.Равно,Справочники.СтатьиДоходовИРасходов.НайтиПоКоду("60008")));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Сторно маркетинга (бонусов)";
ШаблонПроводки.ВидДокумента		= "КорректировкаДолга";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.КорректировкаДолга;
ШаблонПроводки.СчДебета			= "703";
ШаблонПроводки.СубконтоДебета1	= "ТипБонуса";
ШаблонПроводки.СубконтоДебета2	= "НоменклатураГруппаЦенообразования";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "791";
ШаблонПроводки.ФормулаСуммы		= "Движ";
ШаблонПроводки.Отборы			= Отбор83;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВложенныйЗапрос.ТипБонуса КАК ТипБонуса,
                           		  |	ВложенныйЗапрос.НоменклатураГруппаЦенообразования КАК НоменклатураГруппаЦенообразования,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.Движ КАК Движ
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		ВложенныйЗапрос.ТипБонуса КАК ТипБонуса,
                           		  |		ВложенныйЗапрос.НоменклатураГруппаЦенообразования КАК НоменклатураГруппаЦенообразования,
                           		  |		ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |		ВложенныйЗапрос.УвеличениеДолга КАК УвеличениеДолга,
                           		  |		ВложенныйЗапрос.УменьшениеДолга КАК УменьшениеДолга,
                           		  |		ВложенныйЗапрос.УвеличениеДолга - ВложенныйЗапрос.УменьшениеДолга КАК Движ
                           		  |	ИЗ
                           		  |		(ВЫБРАТЬ
                           		  |			МАКСИМУМ(РеализацияТоваровТовары.ТипБонуса) КАК ТипБонуса,
                           		  |			МАКСИМУМ(РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования) КАК НоменклатураГруппаЦенообразования,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ КАК ТорговаяПлощадка,
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент КАК Контрагент,
                           		  |			СУММА(КорректировкаДолгаСостав.УвеличениеДолга) КАК УвеличениеДолга,
                           		  |			СУММА(КорректировкаДолгаСостав.УменьшениеДолга) КАК УменьшениеДолга
                           		  |		ИЗ
                           		  |			Документ.ТК_КорректировкаДолга.Состав КАК КорректировкаДолгаСостав
                           		  |				ЛЕВОЕ СОЕДИНЕНИЕ Документ.РеализацияТоваров.Товары КАК РеализацияТоваровТовары
                           		  |				ПО КорректировкаДолгаСостав.Сделка = РеализацияТоваровТовары.Ссылка
                           		  |		ГДЕ
                           		  |			КорректировкаДолгаСостав.Ссылка = &amp;Регистратор
                           		  |			И КорректировкаДолгаСостав.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |			И КорректировкаДолгаСостав.Ссылка.Проведен
                           		  |		{ГДЕ
                           		  |			КорректировкаДолгаСостав.ДоговорВзаиморасчетов.ВидДоговора.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяДохода.*,
                           		  |			КорректировкаДолгаСостав.Ссылка.СтатьяРасхода.*}
                           		  |		
                           		  |		СГРУППИРОВАТЬ ПО
                           		  |			КорректировкаДолгаСостав.Ссылка.Контрагент,
                           		  |			ВЫБОР
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель
                           		  |				КОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.ТорговыеПлощадки.ПустаяСсылка)
                           		  |					ТОГДА КорректировкаДолгаСостав.Ссылка.ТорговаяПлощадка.Родитель.Родитель.Родитель
                           		  |			КОНЕЦ) КАК ВложенныйЗапрос) КАК ВложенныйЗапрос
                           		  |ГДЕ
                           		  |	ВложенныйЗапрос.Движ &lt; 0";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "ТК_КорректировкаДолга";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

/////	РеализацияТоваров	/////
//	00000076	//;
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Начисление бонусов";
ШаблонПроводки.ВидДокумента		= "РеализацияТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.АктОбОказанииУслуг;
ШаблонПроводки.СчДебета			= "3612";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "703";
ШаблонПроводки.СубконтоКредита1	= "ТипБонуса";
ШаблонПроводки.СубконтоКредита2	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоКредита3	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВложенныйЗапрос.НоменклатураГруппа КАК НоменклатураГруппа,
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	СУММА(ВложенныйЗапрос.СуммаВсего) КАК СуммаВсего,
                           		  |	ВложенныйЗапрос.ТипБонуса КАК ТипБонуса
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |		РеализацияТоваровТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |		РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		СУММА(РеализацияТоваровТовары.СуммаВсего) КАК СуммаВсего,
                           		  |		РеализацияТоваровТовары.ТипБонуса КАК ТипБонуса
                           		  |	ИЗ
                           		  |		Документ.РеализацияТоваров.Товары КАК РеализацияТоваровТовары
                           		  |	ГДЕ
                           		  |		РеализацияТоваровТовары.Ссылка = &amp;Регистратор
                           		  |		И РеализацияТоваровТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |		И РеализацияТоваровТовары.Ссылка.Проведен
                           		  |		И РеализацияТоваровТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |	
                           		  |	СГРУППИРОВАТЬ ПО
                           		  |		РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования,
                           		  |		РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка,
                           		  |		РеализацияТоваровТовары.Ссылка.Контрагент,
                           		  |		РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов,
                           		  |		РеализацияТоваровТовары.ТипБонуса) КАК ВложенныйЗапрос
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	ВложенныйЗапрос.НоменклатураГруппа,
                           		  |	ВложенныйЗапрос.Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.ТипБонуса";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РеализацияТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000077	//;
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Начисление бонусов";
ШаблонПроводки.ВидДокумента		= "РеализацияТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.АктОбОказанииУслуг;
ШаблонПроводки.СчДебета			= "703";
ШаблонПроводки.СубконтоДебета1	= "ТипБонуса";
ШаблонПроводки.СубконтоДебета2	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоДебета3	= "ТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "791";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	ВложенныйЗапрос.НоменклатураГруппа КАК НоменклатураГруппа,
                           		  |	ВложенныйЗапрос.Контрагент КАК Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	СУММА(ВложенныйЗапрос.СуммаВсего) КАК СуммаВсего,
                           		  |	ВложенныйЗапрос.ТипБонуса КАК ТипБонуса
                           		  |ИЗ
                           		  |	(ВЫБРАТЬ
                           		  |		РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |		РеализацияТоваровТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |		РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |		РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |		СУММА(РеализацияТоваровТовары.СуммаВсего) КАК СуммаВсего,
                           		  |		РеализацияТоваровТовары.ТипБонуса КАК ТипБонуса
                           		  |	ИЗ
                           		  |		Документ.РеализацияТоваров.Товары КАК РеализацияТоваровТовары
                           		  |	ГДЕ
                           		  |		РеализацияТоваровТовары.Ссылка = &amp;Регистратор
                           		  |		И РеализацияТоваровТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |		И РеализацияТоваровТовары.Ссылка.Проведен
                           		  |		И РеализацияТоваровТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |	
                           		  |	СГРУППИРОВАТЬ ПО
                           		  |		РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования,
                           		  |		РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка,
                           		  |		РеализацияТоваровТовары.Ссылка.Контрагент,
                           		  |		РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов,
                           		  |		РеализацияТоваровТовары.ТипБонуса) КАК ВложенныйЗапрос
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	ВложенныйЗапрос.НоменклатураГруппа,
                           		  |	ВложенныйЗапрос.Контрагент,
                           		  |	ВложенныйЗапрос.ДоговорВзаиморасчетов,
                           		  |	ВложенныйЗапрос.ТорговаяПлощадка,
                           		  |	ВложенныйЗапрос.ТипБонуса";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РеализацияТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000026	//;
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Отгрузка ТМЦ с НДС";
ШаблонПроводки.ВидДокумента		= "РеализацияТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РеализацияТоваровСписание;
ШаблонПроводки.СчДебета			= "947";
ШаблонПроводки.СубконтоДебета1	= "СтатьяЗатрат";
ШаблонПроводки.СубконтоДебета2	= "СкладКомпанииТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "281";
ШаблонПроводки.СубконтоКредита1	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоКредита2	= "СкладКомпанииТорговаяПлощадка";
ШаблонПроводки.СубконтоКредита3	= "СкладКомпании";
ШаблонПроводки.ФормулаСуммы		= "СуммаУпр";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	Продажи.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	""Торговая выручка"" КАК СтатьяДоходов,
                           		  |	""СписаниеТоваров"" КАК СтатьяЗатрат,
                           		  |	Продажи.Покупатель КАК Покупатель,
                           		  |	Продажи.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	Продажи.СкладКомпании.ТорговаяПлощадка КАК СкладКомпанииТорговаяПлощадка,
                           		  |	СУММА(Продажи.СуммаУпр) КАК СуммаУпр,
                           		  |	Продажи.СкладКомпании КАК СкладКомпании
                           		  |ИЗ
                           		  |	РегистрНакопления.Продажи КАК Продажи
                           		  |ГДЕ
                           		  |	Продажи.Регистратор = &amp;Регистратор
                           		  |	И Продажи.ХозОперация = &amp;ХозОперация
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	Продажи.Номенклатура.ГруппаЦенообразования,
                           		  |	Продажи.ДоговорВзаиморасчетов,
                           		  |	Продажи.СкладКомпании.ТорговаяПлощадка,
                           		  |	Продажи.Покупатель,
                           		  |	Продажи.СкладКомпании";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РеализацияТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000063	//;
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Отгрузка ТМЦ с НДС";
ШаблонПроводки.ВидДокумента		= "РеализацияТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.УдержаниеЗаПовреждениеТовара;
ШаблонПроводки.СчДебета			= "947";
ШаблонПроводки.СубконтоДебета1	= "СтатьяЗатрат";
ШаблонПроводки.СубконтоДебета2	= "СкладКомпанииТорговаяПлощадка";
ШаблонПроводки.СчКредита		= "281";
ШаблонПроводки.СубконтоКредита1	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоКредита2	= "СкладКомпанииТорговаяПлощадка";
ШаблонПроводки.СубконтоКредита3	= "СкладКомпании";
ШаблонПроводки.ФормулаСуммы		= "СуммаУпр";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	Продажи.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	""Торговая выручка"" КАК СтатьяДоходов,
                           		  |	""СписаниеТоваров"" КАК СтатьяЗатрат,
                           		  |	Продажи.Покупатель КАК Покупатель,
                           		  |	Продажи.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	Продажи.СкладКомпании.ТорговаяПлощадка КАК СкладКомпанииТорговаяПлощадка,
                           		  |	СУММА(Продажи.СуммаУпр) КАК СуммаУпр,
                           		  |	Продажи.СкладКомпании КАК СкладКомпании
                           		  |ИЗ
                           		  |	РегистрНакопления.Продажи КАК Продажи
                           		  |ГДЕ
                           		  |	Продажи.Регистратор = &amp;Регистратор
                           		  |	И Продажи.ХозОперация = &amp;ХозОперация
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	Продажи.Номенклатура.ГруппаЦенообразования,
                           		  |	Продажи.ДоговорВзаиморасчетов,
                           		  |	Продажи.СкладКомпании.ТорговаяПлощадка,
                           		  |	Продажи.Покупатель,
                           		  |	Продажи.СкладКомпании";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РеализацияТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000087	//;
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Отгрузка ТМЦ с НДС";
ШаблонПроводки.ВидДокумента		= "РеализацияТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РеализацияТоваровСписание;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СчКредита		= "702";
ШаблонПроводки.СубконтоКредита1	= "ДДС";
ШаблонПроводки.СубконтоКредита2	= "Номенклатурные_группы";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаУпр";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	Продажи.Номенклатура.ГруппаЦенообразования КАК Номенклатурные_группы,
                           		  |	МАКСИМУМ(""Выручка от реализации товаров"") КАК ДДС,
                           		  |	Продажи.Регистратор.Контрагент КАК Контрагент,
                           		  |	Продажи.СкладКомпании.ТорговаяПлощадка КАК Объекты,
                           		  |	СУММА(Продажи.СуммаУпр) КАК СуммаУпр
                           		  |ИЗ
                           		  |	РегистрНакопления.Продажи КАК Продажи
                           		  |ГДЕ
                           		  |	Продажи.Регистратор = &amp;Регистратор
                           		  |	И Продажи.Регистратор ССЫЛКА Документ.РеализацияТоваров
                           		  |	И Продажи.Регистратор.ХозОперация = &amp;ХозОперация
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	Продажи.Регистратор.Контрагент,
                           		  |	Продажи.СкладКомпании.ТорговаяПлощадка,
                           		  |	Продажи.Номенклатура.ГруппаЦенообразования";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РеализацияТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000088	//;
ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Отгрузка ТМЦ с НДС";
ШаблонПроводки.ВидДокумента		= "РеализацияТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.УдержаниеЗаПовреждениеТовара;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СчКредита		= "702";
ШаблонПроводки.СубконтоКредита1	= "ДДС";
ШаблонПроводки.СубконтоКредита2	= "Номенклатурные_группы";
ШаблонПроводки.СубконтоКредита3	= "Объекты";
ШаблонПроводки.ФормулаСуммы		= "СуммаУпр";
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	Продажи.Номенклатура.ГруппаЦенообразования КАК Номенклатурные_группы,
                           		  |	МАКСИМУМ(""Выручка от реализации товаров"") КАК ДДС,
                           		  |	Продажи.Регистратор.Контрагент КАК Контрагент,
                           		  |	Продажи.СкладКомпании.ТорговаяПлощадка КАК Объекты,
                           		  |	СУММА(Продажи.СуммаУпр) КАК СуммаУпр
                           		  |ИЗ
                           		  |	РегистрНакопления.Продажи КАК Продажи
                           		  |ГДЕ
                           		  |	Продажи.Регистратор = &amp;Регистратор
                           		  |	И Продажи.Регистратор ССЫЛКА Документ.РеализацияТоваров
                           		  |	И Продажи.Регистратор.ХозОперация = &amp;ХозОперация
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	Продажи.Регистратор.Контрагент,
                           		  |	Продажи.СкладКомпании.ТорговаяПлощадка,
                           		  |	Продажи.Номенклатура.ГруппаЦенообразования";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РеализацияТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000038	//;
спМакулатура = Новый СписокЗначений;
спМакулатура.Добавить(Справочники.Номенклатура.НайтиПоКоду("D0999966"));
спМакулатура.Добавить(Справочники.Номенклатура.НайтиПоКоду("D0999961"));
спМакулатура.Добавить(Справочники.Номенклатура.НайтиПоКоду("D0999964"));
спМакулатура.Добавить(Справочники.Номенклатура.НайтиПоКоду("28880"));
спМакулатура.Добавить(Справочники.Номенклатура.НайтиПоКоду("999969"));
спМакулатура.Добавить(Справочники.Номенклатура.НайтиПоКоду("D0092922"));
Отбор38 = Новый Массив;
Отбор38.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"Номенклатура",ВидСравнения.ВСписке,спМакулатура));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Отгрузка ТМЦ с НДС макулатура";
ШаблонПроводки.ВидДокумента		= "РеализацияТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РеализацияТоваров;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "719";
ШаблонПроводки.СубконтоКредита1	= "СтатьяДоходов";
ШаблонПроводки.СубконтоКредита2	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.Отборы			= Отбор38;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	РеализацияТоваровТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |	РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	""Макулатура"" КАК СтатьяДоходов,
                           		  |	СУММА(РеализацияТоваровТовары.СуммаВсего) КАК СуммаВсего
                           		  |ИЗ
                           		  |	Документ.РеализацияТоваров.Товары КАК РеализацияТоваровТовары
                           		  |ГДЕ
                           		  |	РеализацияТоваровТовары.Ссылка = &amp;Регистратор
                           		  |	И РеализацияТоваровТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	И РеализацияТоваровТовары.Ссылка.Проведен
                           		  |	И РеализацияТоваровТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |{ГДЕ
                           		  |	РеализацияТоваровТовары.Номенклатура}
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования,
                           		  |	РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка,
                           		  |	РеализацияТоваровТовары.Ссылка.Контрагент,
                           		  |	РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов";


НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РеализацияТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000025	//;
Отбор25 = Новый Массив;
Отбор25.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"Номенклатура",ВидСравнения.НеВСписке,спМакулатура));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Отгрузка ТМЦ с НДС товаров";
ШаблонПроводки.ВидДокумента		= "РеализацияТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РеализацияТоваров;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "702";
ШаблонПроводки.СубконтоКредита1	= "СтатьяДоходов";
ШаблонПроводки.СубконтоКредита2	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоКредита3	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.Отборы			= Отбор25;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	РеализацияТоваровТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |	РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	""Торговая выручка"" КАК СтатьяДоходов,
                           		  |	СУММА(РеализацияТоваровТовары.СуммаВсего) КАК СуммаВсего
                           		  |ИЗ
                           		  |	Документ.РеализацияТоваров.Товары КАК РеализацияТоваровТовары
                           		  |ГДЕ
                           		  |	РеализацияТоваровТовары.Ссылка = &amp;Регистратор
                           		  |	И РеализацияТоваровТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	И РеализацияТоваровТовары.Ссылка.Проведен
                           		  |	И РеализацияТоваровТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |{ГДЕ
                           		  |	РеализацияТоваровТовары.Ссылка.Организация.Контрагент.ВидКонтрагента.* КАК ОрганизацияВидКонтрагента,
                           		  |	РеализацияТоваровТовары.Номенклатура}
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования,
                           		  |	РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка,
                           		  |	РеализацияТоваровТовары.Ссылка.Контрагент,
                           		  |	РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РеализацияТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;

//	00000062	//;
Отбор62 = Новый Массив;
Отбор62.Добавить(Новый Структура("Использование,ПутьКДанным,ВидСравнения,Значение",Истина,"Номенклатура",ВидСравнения.НеВСписке,спМакулатура));

ШаблонПроводки = Новый Структура("Наименование,ВидДокумента,ХозОперация,СчДебета,СубконтоДебета1,СубконтоДебета2,СубконтоДебета3,ВалютаДебета,КоличествоДебета,СуммаДебета,СчКредита,СубконтоКредита1,СубконтоКредита2,СубконтоКредита3,ВалютаКредита,КоличествоКредита,СуммаКредита,ФормулаСуммы,Отборы,ТекстЗапроса");
ШаблонПроводки.Наименование		= "Отгрузка ТМЦ с НДС товаров";
ШаблонПроводки.ВидДокумента		= "РеализацияТоваров";
ШаблонПроводки.ХозОперация		= Справочники.ХозОперации.РеализацияТоваровРозница;
ШаблонПроводки.СчДебета			= "3611";
ШаблонПроводки.СубконтоДебета1	= "Контрагент";
ШаблонПроводки.СубконтоДебета2	= "ДоговорВзаиморасчетов";
ШаблонПроводки.СчКредита		= "702";
ШаблонПроводки.СубконтоКредита1	= "СтатьяДоходов";
ШаблонПроводки.СубконтоКредита2	= "НоменклатураГруппа";
ШаблонПроводки.СубконтоКредита3	= "ТорговаяПлощадка";
ШаблонПроводки.ФормулаСуммы		= "СуммаВсего";
ШаблонПроводки.Отборы			= Отбор62;
ШаблонПроводки.ТекстЗапроса		= "ВЫБРАТЬ
                           		  |	РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования КАК НоменклатураГруппа,
                           		  |	РеализацияТоваровТовары.Ссылка.Контрагент КАК Контрагент,
                           		  |	РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов КАК ДоговорВзаиморасчетов,
                           		  |	РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка КАК ТорговаяПлощадка,
                           		  |	""Торговая выручка"" КАК СтатьяДоходов,
                           		  |	СУММА(РеализацияТоваровТовары.СуммаВсего) КАК СуммаВсего
                           		  |ИЗ
                           		  |	Документ.РеализацияТоваров.Товары КАК РеализацияТоваровТовары
                           		  |ГДЕ
                           		  |	РеализацияТоваровТовары.Ссылка = &amp;Регистратор
                           		  |	И РеализацияТоваровТовары.Ссылка.ХозОперация = &amp;ХозОперация
                           		  |	И РеализацияТоваровТовары.Ссылка.Проведен
                           		  |	И РеализацияТоваровТовары.Ссылка.СуммаДокумента &lt;&gt; 0
                           		  |{ГДЕ
                           		  |	РеализацияТоваровТовары.Номенклатура}
                           		  |
                           		  |СГРУППИРОВАТЬ ПО
                           		  |	РеализацияТоваровТовары.Номенклатура.ГруппаЦенообразования,
                           		  |	РеализацияТоваровТовары.Ссылка.СкладКомпании.ТорговаяПлощадка,
                           		  |	РеализацияТоваровТовары.Ссылка.Контрагент,
                           		  |	РеализацияТоваровТовары.Ссылка.ДоговорВзаиморасчетов";

НоваяЗапись = КэшШаблонов.Добавить();
НоваяЗапись.ВидДокумента	= "РеализацияТоваров";
НоваяЗапись.ШаблонПроводки	= ШаблонПроводки;




Параметры.Вставить("КэшШаблонов",КэшШаблонов);

ЕстьОшибки = Ложь;</ПередВыгрузкойДанных>
	<ПередЗагрузкойДанных>Параметры.Вставить("ПараметрыАлгоритмов",Новый Структура);




УзелОбмена = ПланыОбмена.Полный.НайтиПоКоду("SSL"); 

Если УзелОбмена.Пустая() Тогда
	
	НовыйУзел = ПланыОбмена.Полный.СоздатьУзел();
	НовыйУзел.Код="SSL";
	НовыйУзел.Наименование = "Обмен с базой ТК SSL";
	НовыйУзел.НомерОтправленного = 0;
	НовыйУзел.НомерПринятого = 0;
	НовыйУзел.Записать();
	
	УзелОбмена = НовыйУзел.Ссылка;
	
Иначе
	
	Если УзелОбмена.ПометкаУдаления ИЛИ            
		УзелОбмена.Наименование &lt;&gt; "Обмен с базой ТК SSL" Тогда
		
		Узел = УзелОбмена.ПолучитьОбъект();
		Узел.ПометкаУдаления = Ложь;
		Узел.Наименование = "Обмен с базой ТК SSL";
		Узел.Записать();
		
	КонецЕсли;
	
КонецЕсли;

УзлыОбмена = Новый СписокЗначений;
УзлыОбмена.Добавить(УзелОбмена);
УзлыОбмена.Добавить(ПланыОбмена.Полный.НайтиПоКоду("TKC"));

Параметры.Вставить("УзлыОбменаДляСоответствияОбъектов",УзлыОбмена);



ГраницаЗапрета = Дата(1, 1, 1);	
Параметры.Вставить("ГраницаЗапрета",ГраницаЗапрета);</ПередЗагрузкойДанных>
	<Параметры>
		<Параметр Имя="НСИ                                               " Наименование="Нормативно-справочная информация" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Булево" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ОбъектВыгрузки                                    " Наименование="Объект выгрузки" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="СправочникСсылка.КассыКомпании" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ПараметрыАлгоритмов                               " Наименование="ПараметрыАлгоритмов" ИспользуетсяПриЗагрузке="true" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ПарамРКО                                          " Наименование="ПарамРКО" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="ДокументСсылка.РасходныйКассовыйОрдер" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="Получатель                                        " Наименование="Получатель" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="УзлыОбменаДляСоответствияОбъектов                 " Наименование="УзлыОбменаДляСоответствияОбъектов" ИспользуетсяПриЗагрузке="true" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
	</Параметры>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Справочники_Не_Перегружаемые</Код>
			<Наименование>Справочники_Не_Перегружаемые</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>50</Порядок>
				<ПриЗагрузке>НеЗамещатьОбъект  = Истина;</ПриЗагрузке>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","Организации");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.Организации");

Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.Организации</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Объекты</Код>
				<Наименование>Справочник: Торговые площадки</Наименование>
				<Порядок>100</Порядок>
				<ПриЗагрузке>НеЗамещатьОбъект  = Истина;</ПриЗагрузке>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","Объекты");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.ТорговыеПлощадки");

Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.ТорговыеПлощадки</Источник>
				<Приемник>СправочникСсылка.Объекты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Подразделения</Код>
				<Наименование>Справочник: Подразделения</Наименование>
				<Порядок>150</Порядок>
				<ПриЗагрузке>НеЗамещатьОбъект  = Истина;</ПриЗагрузке>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","Подразделения");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.ПодразделенияКомпании");

Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.ПодразделенияКомпании</Источник>
				<Приемник>СправочникСсылка.Подразделения</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>НоменклатурныеГруппы</Код>
				<Наименование>Справочник: Номенклатурные группы бухгалтерии</Наименование>
				<Порядок>200</Порядок>
				<ПриЗагрузке>НеЗамещатьОбъект = Истина;</ПриЗагрузке>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","НоменклатурныеГруппы");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.ГруппыЦенообразования");


Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Источник>СправочникСсылка.ГруппыЦенообразования</Источник>
				<Приемник>СправочникСсылка.НоменклатурныеГруппы</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>Справочник: Статьи ДДС</Наименование>
				<Порядок>250</Порядок>
				<ПриЗагрузке>НеЗамещатьОбъект  = Истина;</ПриЗагрузке>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","СтатьиДвиженияДенежныхСредств");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.СтатьиДДС");


Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.СтатьиДДС</Источник>
				<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("СправочникСсылка.СтатьиДДС") Тогда
	Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());
Иначе
	Значение = Источник.GUID_Поиска;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиДвиженияДенежныхСредствПоКоду</Код>
				<Наименование>Справочник: Статьи ДДС</Наименование>
				<Порядок>250</Порядок>
				<ПриЗагрузке>НеЗамещатьОбъект  = Истина;</ПриЗагрузке>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.СтатьиДДС</Источник>
				<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Валюты</Код>
				<Наименование>Справочник: Валюты</Наименование>
				<Порядок>300</Порядок>
				<ПриЗагрузке>НеЗамещатьОбъект  = Истина;</ПриЗагрузке>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","Валюты");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.Валюты");


Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.Валюты</Источник>
				<Приемник>СправочникСсылка.Валюты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиЗатратПоКоду</Код>
				<Наименование>Справочник: Статьи доходов и расходов</Наименование>
				<Порядок>350</Порядок>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.СтатьиДоходовИРасходов</Источник>
				<Приемник>СправочникСсылка.СтатьиЗатрат</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиДоходовПоКоду</Код>
				<Наименование>:</Наименование>
				<Порядок>400</Порядок>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Приемник>СправочникСсылка.СтатьиДоходов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ТипыБонусовВСтатьиДоходов</Код>
				<Наименование>Справочник: Типы бонусов</Наименование>
				<Порядок>450</Порядок>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.ТипыБонусов</Источник>
				<Приемник>СправочникСсылка.СтатьиДоходов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Замена_Контрагента_при_реализации</Код>
				<Наименование>:</Наименование>
				<Порядок>550</Порядок>
				<ПоследовательностьПолейПоиска>Подразделение = ПараметрыОбъекта["ПодразделениеИсточник"];

КодКонтрагента = "";
	
Если Подразделение &lt;&gt; Неопределено Тогда
	КодПодразделения = Подразделение.Код;
	Если КодПодразделения = "000000001" Тогда		//ТС Дигма
		КодКонтрагента = "УУ0001063";
	ИначеЕсли КодПодразделения = "000000002" Тогда	//ТС Аттика
		КодКонтрагента = "УУ0001062";
	ИначеЕсли КодПодразделения = "AT000009" Тогда	//ТС Табак-Дигма
		КодКонтрагента = "УУ0001062";
	ИначеЕсли КодПодразделения = "000000004" Тогда	//Гринстеп
		КодКонтрагента = "УУ0001064";
	ИначеЕсли КодПодразделения = "000000006" Тогда	//Фабрика Сыра
		КодКонтрагента = "УУ0001065";
	Иначе
		КодКонтрагента = "УУ0001096";
	КонецЕсли;
Иначе	
	КодКонтрагента = "УУ0001096";
КонецЕсли;
	
СсылкаНаОбъект = Справочники.Контрагенты.НайтиПоКоду(КодКонтрагента);
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗамещать>true</НеЗамещать>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>--&gt; ПодразделениеИсточник</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ПодразделениеИсточник</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = Источник.ПодразделениеКомпании;
ИмяПКО = "Подразделения";</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>ДоговорыКонтрагентов</Код>
				<Наименование>Справочник: Договоры с контрагентами</Наименование>
				<Порядок>50</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ЭтоГруппа;
спВладелец = Источник.Контрагент;

Если Не Отказ  Тогда
	Если НЕ ЗначениеЗаполнено(спВладелец.КодПоЕДРПОУ) И НЕ ЗначениеЗаполнено(спВладелец.ИННПлательщикаНДС) Тогда 
		Сообщить("У владельца договора {владелец: """+Строка(спВладелец)+""" (код: "+СокрЛП(спВладелец.Код)+") договор: "+  Строка(Источник)+ "} не заполнен ИНН и ОКПО, выгрузка договора отменена!");
		Отказ = Истина; 
	КонецЕсли;
КонецЕсли;


Если Не Отказ  Тогда
	Если НЕ ЗначениеЗаполнено(Источник.ВидДоговора)
		И НЕ ЗначениеЗаполнено(Источник.Номер) 
		И НЕ ЗначениеЗаполнено(Источник.ДатаНачалаДействия) Тогда 
		Сообщить("У договора контрагента: "+Строка(спВладелец)+", договор: "+Строка(Источник)+" не заполнен ВидДоговора и Номер и Дата, выгрузка договора контрагента отменена!");
		Отказ = Истина; 
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
				<ПослеВыгрузкиВФайл>Структура = Новый Структура;
Структура.Вставить("СобственнаяСсылка", Источник);
Структура.Вставить("СсылкаВДругойИБ", 	ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор()));
Структура.Вставить("ИмяТипаПриемника", 	"СправочникСсылка.ДоговорыВзаиморасчетов");
    	
ВыгрузитьПоПравилу(Структура, , , , "СоответствиеОбъектовДляОбмена");</ПослеВыгрузкиВФайл>
				<ПослеЗагрузки>
Если Объект.ЭтоНовый() Тогда
	Объект.Комментарий = "Загружен из ТК_ssl " +ТекущаяДата();
Иначе
	ОбъектМодифицирован = Ложь;
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 Тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","ДоговорыКонтрагентов");
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.ДоговорыВзаиморасчетов");
	СтрокаИменСвойствПоиска = "ПоискАлгоритмом";

	Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
	СтрокаИменСвойствПоиска = "";	
ИначеЕсли НомерВариантаПоиска = 2 Тогда
	СтрокаИменСвойствПоиска = "Код,Владелец,Организация";
Иначе
	СтрокаИменСвойствПоиска = "";
	ПрекратитьПоиск = Истина;
КонецЕсли;</ПоследовательностьПолейПоиска>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Если СтрДлина(СокрЛП(Источник.Код))&lt;8 Тогда
	Значение = Лев(Источник.Код + "     ",8);
Иначе
	Значение = СокрЛП(Источник.Код);
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>15</Код>
						<Наименование>Контрагент --&gt; Владелец</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>ВидДоговора --&gt; ВидДоговора</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="СправочникСсылка.ВидыДоговоров"/>
						<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
						<КодПравилаКонвертации>ВидыДоговоровКонтрагентов                         </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.ВидДоговора.ВидДоговора;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>ДатаНачалаДействия --&gt; Дата</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ДатаНачалаДействия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
						<ПередВыгрузкой>Значение  = Формат(Источник.ДатаНачалаДействия,"ДФ=ггггММдд");</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>8</Код>
						<Наименование>ВалютаВзаиморасчетов --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>НаименованиеДляПечати --&gt; НаименованиеДляПечати</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="НаименованиеДляПечати" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеДляПечати" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; СложныйНалоговыйУчет</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СложныйНалоговыйУчет" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; ВедениеВзаиморасчетов</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВедениеВзаиморасчетов" Вид="Реквизит" Тип="ПеречислениеСсылка.ВедениеВзаиморасчетовПоДоговорам"/>
						<ПередВыгрузкой>Значение = "ПоДоговоруВЦелом";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; ВедениеВзаиморасчетовНУ</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВедениеВзаиморасчетовНУ" Вид="Реквизит" Тип="ПеречислениеСсылка.ВедениеВзаиморасчетовПоДоговорам"/>
						<ПередВыгрузкой>Значение = "ПоДоговоруВЦелом";</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>100</Порядок>
				<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(Источник.КодПоЕДРПОУ) И НЕ ЗначениеЗаполнено(Источник.ИННПлательщикаНДС) Тогда 
	Сообщить("У контрагента: """+Строка(Источник)+""" (код:"+СокрЛП(Источник.Код)+")"+" не заполнен ИНН и ОКПО, выгрузка контрагента отменена!");
	Отказ = Истина; 
КонецЕсли;</ПередВыгрузкой>
				<ПослеВыгрузкиВФайл>Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
|СхемыНалогообложенияКонтрагентов.Период,
|СхемыНалогообложенияКонтрагентов.Контрагент,
|СхемыНалогообложенияКонтрагентов.СхемаНалогообложения
|ИЗ
|	РегистрСведений.ТК_УчетнаяПолитикаКонтрагенты КАК СхемыНалогообложенияКонтрагентов
|ГДЕ
|	СхемыНалогообложенияКонтрагентов.Контрагент = &amp;Контрагент";
Запрос.УстановитьПараметр("Контрагент",Источник);

Результат = Запрос.Выполнить();

Выборка = Результат.Выбрать();

Пока Выборка.Следующий() Цикл
	
	Структура = Новый Структура("Период,Контрагент,СхемаНалогообложения");
	ЗаполнитьЗначенияСвойств(Структура,Выборка);
	ВыгрузитьПоПравилу(Структура, , , , "СхемыНалогообложенияКонтрагентов");
	
КонецЦикла;

 
Структура = Новый Структура;
Структура.Вставить("СобственнаяСсылка", Источник);
Структура.Вставить("СсылкаВДругойИБ", 	ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор()));
Структура.Вставить("ИмяТипаПриемника", 	"СправочникСсылка.Контрагенты");
    	
ВыгрузитьПоПравилу(Структура, , , , "СоответствиеОбъектовДляОбмена");</ПослеВыгрузкиВФайл>
				<ПоследовательностьПолейПоиска>
Если НомерВариантаПоиска = 1 Тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","Контрагенты");
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.Контрагенты");
	
	СтрокаИменСвойствПоиска = "ПоискАлгоритмом";
	Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);	
	СтрокаИменСвойствПоиска = "";
ИначеЕсли НомерВариантаПоиска = 2 Тогда
	СтрокаИменСвойствПоиска = "КодПоЕДРПОУ,ИНН";
Иначе
	СтрокаИменСвойствПоиска = "";
	ПрекратитьПоиск = Истина;
КонецЕсли;</ПоследовательностьПолейПоиска>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>КодПоЕДРПОУ --&gt; КодПоЕДРПОУ</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>ИННПлательщикаНДС --&gt; ИНН</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ИННПлательщикаНДС" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<КодПравилаКонвертации>ЮрФизЛицо                                         </КодПравилаКонвертации>
						<ПередВыгрузкой>Отказ = Источник.ЭтоГруппа;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ОсновнойБанковскийСчетКонтрагента --&gt; ОсновнойБанковскийСчет</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ОсновнойБанковскийСчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаКонтрагентов"/>
						<Приемник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<КодПравилаКонвертации>БанковскиеСчетаКонтрагентов                       </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>БанковскиеСчетаКонтрагентов</Код>
				<Наименование>Справочник: Банковские счета</Наименование>
				<Порядок>150</Порядок>
				<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(Источник.Владелец) 
	И НЕ ЗначениеЗаполнено(Источник.Банк) 
	И НЕ ЗначениеЗаполнено(Источник.НомерСчета) Тогда 
	Сообщить("У банковского счета "+Строка(Источник)+" не заполнены Организация, Банк и Номер счета, выгрузка банковского счета отменена!");
	Отказ = Истина; 
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>ОбъектМодифицирован = Ложь;

ЗаписатьОбъект = ПараметрыОбъекта.Получить("ЗаписатьОбъект");
Если ЗаписатьОбъект = Неопределено Тогда
	ЗаписатьОбъект = Ложь;
КонецЕсли;

Если Объект.ЭтоНовый() Или ЗаписатьОбъект Тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.БанковскиеСчетаКонтрагентов");
	Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","БанковскиеСчета");
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.БанковскиеСчетаКонтрагентов");
	СтрокаИменСвойствПоиска = "ПоискАлгоритмом";
	
	Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
ИначеЕсли НомерВариантаПоиска = 2 тогда
	СтрокаИменСвойствПоиска = "Владелец, НомерСчета, Банк, ВалютаДенежныхСредств";
Иначе
	СтрокаИменСвойствПоиска = "";
	ПрекратитьПоиск = Истина;
КонецЕсли;</ПоследовательностьПолейПоиска>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.БанковскиеСчетаКонтрагентов</Источник>
				<Приемник>СправочникСсылка.БанковскиеСчета</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Владелец" Вид="Свойство"/>
						<Приемник Имя="Владелец" Вид="Свойство"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>НомерСчета --&gt; НомерСчета</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = СтрЗаменить(Источник.НомерСчета," ","");</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Банк --&gt; Банк</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
						<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>ВалютаДенежныхСредств --&gt; ВалютаДенежныхСредств</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ВидСчета --&gt; ВидСчета</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ДатаОткрытия --&gt; ДатаОткрытия</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ДатаЗакрытия --&gt; ДатаЗакрытия</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>БанковскиеСчетаОрганизаций</Код>
				<Наименование>Справочник: Банковские счета</Наименование>
				<Порядок>200</Порядок>
				<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(Источник.Владелец) 
	И НЕ ЗначениеЗаполнено(Источник.Банк) 
	И НЕ ЗначениеЗаполнено(Источник.НомерСчета) Тогда 
	Сообщить("У банковского счета "+Строка(Источник)+" не заполнены Организация, Банк и Номер счета, выгрузка банковского счета отменена!");
	Отказ = Истина; 
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>ОбъектМодифицирован = Ложь;

ЗаписатьОбъект = ПараметрыОбъекта.Получить("ЗаписатьОбъект");
Если ЗаписатьОбъект = Неопределено Тогда
	ЗаписатьОбъект = Ложь;
КонецЕсли;

Если Объект.ЭтоНовый() Или ЗаписатьОбъект Тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.БанковскиеСчетаОрганизаций");
	Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","БанковскиеСчета");
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.БанковскиеСчетаОрганизаций");
	СтрокаИменСвойствПоиска = "ПоискАлгоритмом";
	
	Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
ИначеЕсли НомерВариантаПоиска = 2 тогда
	СтрокаИменСвойствПоиска = "Владелец, НомерСчета, Банк, ВалютаДенежныхСредств";
Иначе
	СтрокаИменСвойствПоиска = "";
	ПрекратитьПоиск = Истина;
КонецЕсли;</ПоследовательностьПолейПоиска>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.БанковскиеСчетаОрганизаций</Источник>
				<Приемник>СправочникСсылка.БанковскиеСчета</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Владелец" Вид="Свойство"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>НомерСчета --&gt; НомерСчета</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = СтрЗаменить(Источник.НомерСчета," ","");</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Банк --&gt; Банк</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
						<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>ВалютаДенежныхСредств --&gt; ВалютаДенежныхСредств</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ВидСчета --&gt; ВидСчета</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ДатаОткрытия --&gt; ДатаОткрытия</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ДатаЗакрытия --&gt; ДатаЗакрытия</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Кассы</Код>
				<Наименование>Справочник: Кассы компании</Наименование>
				<Порядок>250</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ЭтоГруппа;</ПередВыгрузкой>
				<ПослеЗагрузки>ОбъектМодифицирован = Ложь;

Если Объект.ЭтоНовый() Тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.КассыКомпании");
	Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","Кассы");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.КассыКомпании");
СтрокаИменСвойствПоиска = "ПоискАлгоритмом";

Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.КассыКомпании</Источник>
				<Приемник>СправочникСсылка.Кассы</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ВалютаДенежныхСредств --&gt; ВалютаДенежныхСредств</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Номер --&gt; НомерОбъекта</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерОбъекта" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Банки</Код>
				<Наименование>Справочник: Классификатор банков</Наименование>
				<Порядок>300</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ЭтоГруппа;

Если Не Отказ Тогда
	Если НЕ ЗначениеЗаполнено(Источник.Код)  Тогда 
		Сообщить("У банка "+Строка(Источник)+" не заполнен Код (МФО), выгрузка банка отменена!");
		Отказ = Истина; 
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>ОбъектМодифицирован = Ложь;

Если Объект.ЭтоНовый() Тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.КлассификаторБанков");
	Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","Банки");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.КлассификаторБанков");
СтрокаИменСвойствПоиска = "ПоискАлгоритмом";

Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.КлассификаторБанков</Источник>
				<Приемник>СправочникСсылка.Банки</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>КодПоЕДРПОУ --&gt; КодПоЕДРПОУ</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Телефоны --&gt; Телефоны</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Обязательное="true">
						<Код>8</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Склады</Код>
				<Наименование>Справочник: Склады компании</Наименование>
				<Порядок>350</Порядок>
				<ПослеЗагрузки>ОбъектМодифицирован = Ложь;

Если Объект.ЭтоНовый() Тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.СкладыКомпании");
	Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","Склады");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.СкладыКомпании");
СтрокаИменСвойствПоиска = "ПоискАлгоритмом";

Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
				<Источник>СправочникСсылка.СкладыКомпании</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Лев(Источник.Код+" ",9);</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>3</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СкладыКомпании"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; ВидСклада</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСкладов"/>
						<ПередВыгрузкой>Если Источник.Розничный Тогда
	Значение = "Розничный";
Иначе
	Значение = "Оптовый";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ФизическиеЛица</Код>
				<Наименование>Справочник: Физические лица</Наименование>
				<Порядок>400</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ЭтоГруппа;</ПередВыгрузкой>
				<ПослеЗагрузки>ОбъектМодифицирован = Ложь;

Если Объект.ЭтоНовый() Тогда
	Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.ФизическиеЛица");
	Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Параметры.ПараметрыАлгоритмов.Вставить("ВидОбъекта","ФизическиеЛица");
Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","СправочникСсылка.ФизическиеЛица");
СтрокаИменСвойствПоиска = "ПоискАлгоритмом";

Выполнить(Алгоритмы.ПолучитьСоответствиеОбъектов);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.ФизическиеЛица</Источник>
				<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; КодПоДРФО</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="КодПоДРФО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>3</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Группа>
				<Код>Планы счетов</Код>
				<Наименование>Планы счетов</Наименование>
				<Порядок>450</Порядок>
				<Правило>
					<Код>Хозрасчетный</Код>
					<Наименование>:</Наименование>
					<Порядок>50</Порядок>
					<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
					<Приемник>ПланСчетовСсылка.Хозрасчетный</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
		<Группа>
			<Код>ПланыВидовХарактеристик</Код>
			<Наименование>ПланыВидовХарактеристик</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>ВидыСубконтоХозрасчетные</Код>
				<Наименование>:</Наименование>
				<Порядок>50</Порядок>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Приемник>ПланВидовХарактеристикСсылка.ВидыСубконтоХозрасчетные</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>200</Порядок>
			<Правило>
				<Код>ЮрФизЛицо</Код>
				<Наименование>Перечисление: Юр/Физлицо</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮрФизЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; ЮрЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮрЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ЮрЛицоНеРезидент --&gt; ЮрЛицо</Наименование>
						<Порядок>150</Порядок>
						<Источник>ЮрЛицоНеРезидент</Источник>
						<Приемник>ЮрЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ИндивидуальныйПредприниматель --&gt; ФизЛицо</Наименование>
						<Порядок>200</Порядок>
						<Источник>ИндивидуальныйПредприниматель</Источник>
						<Приемник>ФизЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыДоговоровКонтрагентов</Код>
				<Наименование>Справочник: Виды договоров</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ВидыДоговоров</Источник>
				<Приемник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>35</Код>
						<Наименование>Бартерный --&gt; Бартерный</Наименование>
						<Порядок>50</Порядок>
						<Источник>Бартерный</Источник>
						<Приемник>Бартерный</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Бонус --&gt; СПокупателем</Наименование>
						<Порядок>100</Порядок>
						<Источник>Бонус</Источник>
						<Приемник>Прочее</Приемник>
					</Значение>
					<Значение>
						<Код>34</Код>
						<Наименование>Покупка --&gt; СПоставщиком</Наименование>
						<Порядок>150</Порядок>
						<Источник>Покупка</Источник>
						<Приемник>СПоставщиком</Приемник>
					</Значение>
					<Значение>
						<Код>25</Код>
						<Наименование>Продажа --&gt; СПокупателем</Наименование>
						<Порядок>200</Порядок>
						<Источник>Продажа</Источник>
						<Приемник>СПокупателем</Приемник>
					</Значение>
					<Значение>
						<Код>36</Код>
						<Наименование>Комиссия --&gt; СКомиссионером</Наименование>
						<Порядок>250</Порядок>
						<Источник>Комиссия</Источник>
						<Приемник>СКомиссионером</Приемник>
					</Значение>
					<Значение>
						<Код>37</Код>
						<Наименование>СКомитентом --&gt; СКомитентом</Наименование>
						<Порядок>300</Порядок>
						<Источник>СКомитентом</Источник>
						<Приемник>СКомитентом</Приемник>
					</Значение>
					<Значение>
						<Код>32</Код>
						<Наименование>УпрощеннаяКомиссия --&gt; Прочее</Наименование>
						<Порядок>350</Порядок>
						<Источник>УпрощеннаяКомиссия</Источник>
						<Приемник>Прочее</Приемник>
					</Значение>
					<Значение>
						<Код>1</Код>
						<Наименование>Прочее --&gt; Прочее</Наименование>
						<Порядок>400</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>Прочее</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СхемыНалогообложения</Код>
				<Наименование>:</Наименование>
				<Порядок>150</Порядок>
				<Источник>ПеречислениеСсылка.СхемыНалогообложения</Источник>
				<Приемник>СправочникСсылка.СхемыНалогообложения</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ЕдиныйНалог --&gt; ЕдиныйНалог</Наименование>
						<Порядок>50</Порядок>
						<Источник>ЕдиныйНалог</Источник>
						<Приемник>ЕдиныйНалог</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЕдиныйНалогИНДС --&gt; ЕдиныйНалогИНДС</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЕдиныйНалогИНДС</Источник>
						<Приемник>ЕдиныйНалогИНДС</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НалогНаПрибыль --&gt; НалогНаПрибыль</Наименование>
						<Порядок>150</Порядок>
						<Источник>НалогНаПрибыль</Источник>
						<Приемник>НалогНаПрибыль</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>НалогНаПрибыльИНДС --&gt; НалогНаПрибыльИНДС</Наименование>
						<Порядок>200</Порядок>
						<Источник>НалогНаПрибыльИНДС</Источник>
						<Приемник>НалогНаПрибыльИНДС</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>НеПлательщик --&gt; НеПлательщик</Наименование>
						<Порядок>250</Порядок>
						<Источник>НеПлательщик</Источник>
						<Приемник>НеПлательщик</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Регистры сведений</Код>
			<Наименование>Регистры сведений</Наименование>
			<Порядок>250</Порядок>
			<Правило>
				<Код>СхемыНалогообложенияКонтрагентов</Код>
				<Наименование>Регистр сведений: Учет плательщика НДС</Наименование>
				<Порядок>50</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<Источник>РегистрСведенийЗапись.ТК_УчетнаяПолитикаКонтрагенты</Источник>
				<Приемник>РегистрСведенийЗапись.СхемыНалогообложенияКонтрагентов</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Контрагент" Вид="Измерение" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Измерение" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>СхемаНалогообложения --&gt; СхемаНалогообложения</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="СхемаНалогообложения" Вид="Ресурс" Тип="ПеречислениеСсылка.СхемыНалогообложения"/>
						<Приемник Имя="СхемаНалогообложения" Вид="Ресурс" Тип="СправочникСсылка.СхемыНалогообложения"/>
						<КодПравилаКонвертации>СхемыНалогообложения                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СоответствиеОбъектовДляОбмена</Код>
				<Наименование>:</Наименование>
				<Порядок>100</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<Приемник>РегистрСведенийЗапись.СоответствиеОбъектовДляОбмена</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; СобственнаяСсылка</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СобственнаяСсылка" Вид="Измерение"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; СсылкаВДругойИБ</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СсылкаВДругойИБ" Вид="Измерение" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; ИмяТипаПриемника</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ИмяТипаПриемника" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; УзелОбмена</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="УзелОбмена" Вид="Измерение"/>
						<ПередВыгрузкой>Выражение = "Параметры.УзлыОбменаДляСоответствияОбъектов[0].Значение";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Активность</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>300</Порядок>
			<Правило>
				<Код>ДокументНаУдаление</Код>
				<Наименование>:</Наименование>
				<Порядок>50</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если ОбъектНайден Тогда
		Объект.УстановитьПометкуУдаления(Истина);
		Объект.Движения.Хозрасчетный.Очистить();
		Объект.Движения.Хозрасчетный.Записать();
		Объект.Записать();
		ОбъектМодифицирован = Ложь;
	КонецЕсли;
КонецЕсли;

Отказ = Истина;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПоступлениеТоваров</Код>
				<Наименование>Документ: Поступление товаров</Наименование>
				<Порядок>100</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если Объект.ЭтоНовый() Тогда
		Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","ДокументСсылка.ПоступлениеТоваров");
		Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
	КонецЕсли;	
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>ДокументСсылка.ПоступлениеТоваров</Источник>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; Содержание</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Поступление товаров";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "ПТ-"+Источник.Номер</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПодразделениеКомпании --&gt; Подразделение</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.ДоговорВзаиморасчетов.Организация;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.Проведен Тогда
	Значение = Источник.ПометкаУдаления;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>СуммаДокумента --&gt; СуммаОперации</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаОперации" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; СпособЗаполнения</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособЗаполнения" Вид="Реквизит"/>
						<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>11</Код>
						<Наименование>--&gt; Хозрасчетный</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Хозрасчетный" Вид="НаборДвиженийРегистраБухгалтерии"/>
						<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПроводкиДокумента);</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; Период</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СубконтоДт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоДт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; СубконтоКт</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоКт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ДоговорВзаиморасчетов.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Измерение" Тип="СправочникСсылка.Подразделения"/>
							<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ПодразделениеКомпании;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; ВалютаДт</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; ВалютаКт</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаКт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Ресурс" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; Содержание</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВозвратПоставщику</Код>
				<Наименование>Документ: Возврат поставщику</Наименование>
				<Порядок>150</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если Объект.ЭтоНовый() Тогда
		Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","ДокументСсылка.ВозвратПоставщику");
		Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
	КонецЕсли;	
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>ДокументСсылка.ВозвратПоставщику</Источник>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; Содержание</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Возврат поставщику";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "ВП-"+Источник.Номер</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПодразделениеКомпании --&gt; Подразделение</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.ДоговорВзаиморасчетов.Организация;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.Проведен Тогда
	Значение = Источник.ПометкаУдаления;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>СуммаДокумента --&gt; СуммаОперации</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаОперации" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; СпособЗаполнения</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособЗаполнения" Вид="Реквизит"/>
						<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>11</Код>
						<Наименование>--&gt; Хозрасчетный</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Хозрасчетный" Вид="НаборДвиженийРегистраБухгалтерии"/>
						<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПроводкиДокумента);</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; Период</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; СубконтоДт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоДт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; СубконтоКт</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоКт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ДоговорВзаиморасчетов.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Измерение" Тип="СправочникСсылка.Подразделения"/>
							<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ПодразделениеКомпании;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ВалютаДт</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ВалютаКт</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаКт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Ресурс" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; Содержание</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЗакрытиеСмены</Код>
				<Наименование>Документ: Закрытие кассовой смены</Наименование>
				<Порядок>200</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если Объект.ЭтоНовый() Тогда
		Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","ДокументСсылка.ЗакрытиеСмены");
		Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
	КонецЕсли;	
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>ДокументСсылка.ЗакрытиеСмены</Источник>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; Содержание</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Закрытие кассовой смены";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "ЗК-"+Источник.Номер</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Подразделение</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.ТорговаяПлощадка.ПодразделениеКомпании;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.Проведен Тогда
	Значение = Источник.ПометкаУдаления;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>СуммаДокумента --&gt; СуммаОперации</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаОперации" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; СпособЗаполнения</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособЗаполнения" Вид="Реквизит"/>
						<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>10</Код>
						<Наименование>--&gt; Хозрасчетный</Наименование>
						<Порядок>500</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Хозрасчетный" Вид="НаборДвиженийРегистраБухгалтерии"/>
						<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПроводкиДокумента);</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; Период</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; СубконтоДт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоДт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если Субконто = "Реал. товаров кон. потребителю" Тогда
	Субконто = "000001052";
	ИмяПКО  = "СтатьиДоходовПоКоду";
ИначеЕсли Субконто ="Выручка от реализации товаров" Тогда
	Субконто = "OR0000405";
	ИмяПКО  = "СтатьиДвиженияДенежныхСредствПоКоду";
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СубконтоКт</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоКт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если Субконто = "Реал. товаров кон. потребителю" Тогда
	Субконто = "000001052";
	ИмяПКО  = "СтатьиДоходовПоКоду";
ИначеЕсли Субконто ="POS терминалы" Тогда
	Субконто = "OR0000402";
	ИмяПКО  = "СтатьиДвиженияДенежныхСредствПоКоду";
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; ВалютаДт</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; ВалютаКт</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаКт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Ресурс" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; Содержание</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Измерение" Тип="СправочникСсылка.Подразделения"/>
							<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ТорговаяПлощадка.ПодразделениеКомпании;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РеализацияТоваров</Код>
				<Наименование>Документ: Реализация товаров</Наименование>
				<Порядок>250</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если Объект.ЭтоНовый() Тогда
		Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","ДокументСсылка.РеализацияТоваров");
		Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
	КонецЕсли;	
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>ДокументСсылка.РеализацияТоваров</Источник>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>22</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>--&gt; Содержание</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Реализация товаров";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "РН-"+Источник.Номер</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; Подразделение</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.ТорговаяПлощадка.ПодразделениеКомпании;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.Проведен Тогда
	Значение = Источник.ПометкаУдаления;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>СуммаДокумента --&gt; СуммаОперации</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаОперации" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; СпособЗаполнения</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособЗаполнения" Вид="Реквизит"/>
						<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>7</Код>
						<Наименование>--&gt; Хозрасчетный</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Хозрасчетный" Вид="НаборДвиженийРегистраБухгалтерии"/>
						<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПроводкиДокумента);</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; СубконтоДт</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоДт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если  Субконто ="СписаниеТоваров" Тогда
	Субконто = "100000232";    
	ИмяПКО  = "СтатьиЗатратПоКоду";
ИначеЕсли Субконто ="Выручка от реализации товаров" Тогда
	Субконто = "OR0000405";
	ИмяПКО  = "СтатьиДвиженияДенежныхСредствПоКоду";	
Иначе	
	Если ОбъектКоллекции.СчетДт = "3611" И ТипЗнч(Субконто) = Тип("СправочникСсылка.Контрагенты") И (Источник.ХозОперация.Код = "160008" ИЛИ Источник.ХозОперация.Код = "160026") Тогда				
		Субконто = Источник;
		ИмяПКО = "Замена_Контрагента_при_реализации";
	КонецЕсли;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; СубконтоКт</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоКт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если  Субконто ="Торговая выручка" Тогда
	Субконто = "000001052";    
	ИмяПКО  = "СтатьиДоходовПоКоду"; 
ИначеЕсли Субконто = "Прочие операционные доходы" Тогда
	Субконто = "000001076";    
	ИмяПКО  = "СтатьиДоходовПоКоду";	
ИначеЕсли Субконто = "Макулатура" Тогда
	Субконто = "000001054";    
	ИмяПКО  = "СтатьиДоходовПоКоду";	
ИначеЕсли Субконто = "КомпенсацияСотрудником" Тогда	
	Субконто =  "000001068";
	ИмяПКО  = "СтатьиДоходовПоКоду";
ИначеЕсли Субконто = "ТоварыНаКомиссии" Тогда	
	СтруктураГруппы = Новый Структура("GUID_Поиска,Наименование","32 Товары на комиссии","32 Товары на комиссии");
	Субконто =  СтруктураГруппы;	//	32 Товары на комиссии
	ИмяПКО  = "НоменклатурныеГруппы";
ИначеЕсли Субконто ="Выручка от реализации товаров" Тогда
	Субконто = "OR0000405";
	ИмяПКО  = "СтатьиДвиженияДенежныхСредствПоКоду";
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВалютаДт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВалютаКт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаКт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Измерение" Тип="СправочникСсылка.Подразделения"/>
							<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ТорговаяПлощадка.ПодразделениеКомпании;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; Содержание</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Ресурс" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; Период</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВозвратОтПокупателя</Код>
				<Наименование>Документ: Возврат от покупателя</Наименование>
				<Порядок>300</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если Объект.ЭтоНовый() Тогда
		Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","ДокументСсылка.ВозвратОтПокупателя");
		Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
	КонецЕсли;
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>ДокументСсылка.ВозвратОтПокупателя</Источник>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; Содержание</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Возврат товаров от покупателя";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "ПЗ-"+Источник.Номер</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ПодразделениеКомпании --&gt; Подразделение</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.Проведен Тогда
	Значение = Источник.ПометкаУдаления;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>СуммаДокумента --&gt; СуммаОперации</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаОперации" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; СпособЗаполнения</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособЗаполнения" Вид="Реквизит"/>
						<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>7</Код>
						<Наименование>--&gt; Хозрасчетный</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Хозрасчетный" Вид="НаборДвиженийРегистраБухгалтерии"/>
						<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПроводкиДокумента);</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; Период</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; СубконтоДт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоДт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если  Субконто ="Торговая выручка" Тогда
    Субконто = "000001052";    
	ИмяПКО  = "СтатьиДоходовПоКоду"; 
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; СубконтоКт</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоКт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Измерение" Тип="СправочникСсылка.Подразделения"/>
							<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ПодразделениеКомпании;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВалютаДт</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВалютаКт</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаКт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Ресурс" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; Содержание</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПриходныйКассовыйОрдер</Код>
				<Наименование>Справочник: Банковские счета</Наименование>
				<Порядок>350</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если Объект.ЭтоНовый() Тогда
		Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","ДокументСсылка.ПриходныйКассовыйОрдер");
		Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
	КонецЕсли;	
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; Содержание</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Строка(Источник.СтатьяДДС);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "ПК-"+Источник.Номер</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПодразделениеКомпании --&gt; Подразделение</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.Проведен Тогда
	Значение = Источник.ПометкаУдаления;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>СуммаДокумента --&gt; СуммаОперации</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаОперации" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; СпособЗаполнения</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособЗаполнения" Вид="Реквизит"/>
						<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>10</Код>
						<Наименование>--&gt; Хозрасчетный</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Хозрасчетный" Вид="НаборДвиженийРегистраБухгалтерии"/>
						<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПроводкиДокумента);</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; СубконтоДт</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоДт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если ТипЗнч(Субконто) = Тип("СправочникСсылка.СтатьиДДС") Тогда
	Субконто = Новый Структура("GUID_Поиска,Код",ЗначениеВСтрокуВнутр(Субконто.УникальныйИдентификатор()),Параметры.ПерегружаемыеСтатьиДДС.НайтиПоЗначению(Субконто).Представление);
	ИмяПКО  = "СтатьиДвиженияДенежныхСредств";
ИначеЕсли Субконто = "РазменДляМагазинов" Тогда
	Субконто = "OR0000390";		//	разменная монета
	ИмяПКО  = "СтатьиДвиженияДенежныхСредствПоКоду";  
ИначеЕсли	Субконто = "Прочие операционные доходы" Тогда
	Субконто = "000001076";		//
	ИмяПКО  = "СтатьиДоходовПоКоду"; 
ИначеЕсли Субконто = "Макулатура" Тогда
	Субконто = "000001054";    
	ИмяПКО  = "СтатьиДоходовПоКоду";	
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; СубконтоКт</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоКт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если ТипЗнч(Субконто) = Тип("СправочникСсылка.СтатьиДДС") Тогда
	Субконто = Новый Структура("GUID_Поиска,Код",ЗначениеВСтрокуВнутр(Субконто.УникальныйИдентификатор()),Параметры.ПерегружаемыеСтатьиДДС.НайтиПоЗначению(Субконто).Представление);
	ИмяПКО  = "СтатьиДвиженияДенежныхСредств";
ИначеЕсли  Субконто ="Излишки" Тогда
	Субконто = "000001069";		//Излишки в кассе
	ИмяПКО  = "СтатьиДоходовПоКоду"; 
ИначеЕсли Субконто = "РазменДляМагазинов" Тогда
	Субконто = "OR0000390";		//разменная монета
	ИмяПКО  = "СтатьиДвиженияДенежныхСредствПоКоду"; 
ИначеЕсли Субконто = "Выручка от реализации товаров" Тогда
	Субконто = "OR0000405";    
	ИмяПКО  = "СтатьиДвиженияДенежныхСредствПоКоду"; 
ИначеЕсли	Субконто = "Прочие операционные доходы" Тогда
	Субконто = "000001076";
	ИмяПКО  = "СтатьиДоходовПоКоду"; 
ИначеЕсли Субконто = "Макулатура" Тогда
	Субконто = "000001054";    
	ИмяПКО  = "СтатьиДоходовПоКоду";	
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВалютаДт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ВалютаКт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаКт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Измерение" Тип="СправочникСсылка.Подразделения"/>
							<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ПодразделениеКомпании;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Содержание</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Ресурс" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; Период</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РасходныйКассовыйОрдер</Код>
				<Наименование>Документ: РКО</Наименование>
				<Порядок>400</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если Объект.ЭтоНовый() Тогда
		Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","ДокументСсылка.РасходныйКассовыйОрдер");
		Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
	КонецЕсли;	
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; Содержание</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Строка(Источник.СтатьяДДС);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "РК-"+Источник.Номер</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>ПодразделениеКомпании --&gt; Подразделение</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.Проведен Тогда
	Значение = Источник.ПометкаУдаления;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>СуммаДокумента --&gt; СуммаОперации</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаОперации" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>--&gt; СпособЗаполнения</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособЗаполнения" Вид="Реквизит"/>
						<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>8</Код>
						<Наименование>--&gt; Хозрасчетный</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Хозрасчетный" Вид="НаборДвиженийРегистраБухгалтерии"/>
						<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПроводкиДокумента);</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; СубконтоДт</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоДт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если ТипЗнч(Субконто) = Тип("СправочникСсылка.СтатьиДДС") Тогда
	Субконто = Новый Структура("GUID_Поиска,Код",ЗначениеВСтрокуВнутр(Субконто.УникальныйИдентификатор()),Параметры.ПерегружаемыеСтатьиДДС.НайтиПоЗначению(Субконто).Представление);
	ИмяПКО  = "СтатьиДвиженияДенежныхСредств";
ИначеЕсли Субконто = "Инкассация" Тогда
	Субконто = "OR0000401";    
	ИмяПКО  = "СтатьиДвиженияДенежныхСредствПоКоду";  				
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; СубконтоКт</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоКт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если ТипЗнч(Субконто) = Тип("СправочникСсылка.СтатьиДДС") Тогда
	Субконто = Новый Структура("GUID_Поиска,Код",ЗначениеВСтрокуВнутр(Субконто.УникальныйИдентификатор()),Параметры.ПерегружаемыеСтатьиДДС.НайтиПоЗначению(Субконто).Представление);
	ИмяПКО  = "СтатьиДвиженияДенежныхСредств";
ИначеЕсли Субконто = "Инкассация" Тогда
	Субконто = "OR0000401";    
	ИмяПКО  = "СтатьиДвиженияДенежныхСредствПоКоду";  		
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВалютаДт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ВалютаКт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаКт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Измерение" Тип="СправочникСсылка.Подразделения"/>
							<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ПодразделениеКомпании;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Содержание</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Ресурс" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Период</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<КодПравилаКонвертации>Хозрасчетный                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<КодПравилаКонвертации>Хозрасчетный                                      </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>КорректировкаДолга</Код>
				<Наименование>Документ: Корректировка долга</Наименование>
				<Порядок>450</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если Объект.ЭтоНовый() Тогда
		Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","ДокументСсылка.КорректировкаДолга");
		Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
	КонецЕсли;	
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>ДокументСсылка.ТК_КорректировкаДолга</Источник>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; Содержание</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Корректировка долга";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "КД-"+Источник.Номер</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ПодразделениеКомпании --&gt; Подразделение</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.Проведен Тогда
	Значение = Источник.ПометкаУдаления;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; СпособЗаполнения</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособЗаполнения" Вид="Реквизит"/>
						<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>7</Код>
						<Наименование>--&gt; Хозрасчетный</Наименование>
						<Порядок>500</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Хозрасчетный" Вид="НаборДвиженийРегистраБухгалтерии"/>
						<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПроводкиДокумента);</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; СубконтоДт</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоДт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если  Субконто ="ДругиеДоходы" Тогда
	Субконто = "000001071";    
	ИмяПКО  = "СтатьиДоходовПоКоду"; 
ИначеЕсли Субконто ="ПрочиеРасходы" Тогда
	Субконто = "100000189";    
	ИмяПКО  = "СтатьиЗатратПоКоду"; 
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; СубконтоКт</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоКт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
							<ПриВыгрузке>Если  Субконто ="ДругиеДоходы" Тогда
	Субконто = "000001071";    
	ИмяПКО  = "СтатьиДоходовПоКоду"; 
ИначеЕсли Субконто ="ПрочиеРасходы" Тогда
	Субконто = "100000189";    
	ИмяПКО  = "СтатьиЗатратПоКоду"; 
ИначеЕсли  Субконто ="ТорговаяВыручка" Тогда
	Субконто = "000001052";    
	ИмяПКО  = "СтатьиДоходовПоКоду"; 
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВалютаДт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВалютаКт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаКт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Измерение" Тип="СправочникСсылка.Подразделения"/>
							<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ПодразделениеКомпании;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; Содержание</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Ресурс" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; Период</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Взаимозачет</Код>
				<Наименование>Справочник: Склады компании</Наименование>
				<Порядок>500</Порядок>
				<ПослеЗагрузки>Выполнить(Алгоритмы.ПроверитьДатуДокумента);
Если НЕ Отказ Тогда	
	Если Объект.ЭтоНовый() Тогда
		Параметры.ПараметрыАлгоритмов.Вставить("ТипОбъектаИсточника","ДокументСсылка.ТК_Взаимозачет");
		Выполнить(Алгоритмы.ЗаписатьСоответствиеОбъектов);
	КонецЕсли;	
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Выполнить(Алгоритмы.ПолучитьДокумент);
СтрокаИменСвойствПоиска = "";
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>ДокументСсылка.ТК_Взаимозачет</Источник>
				<Приемник>ДокументСсылка.ОперацияБух</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; GUID_Поиска</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>GUID_Поиска</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = ЗначениеВСтрокуВнутр(Источник.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; Содержание</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Взаимозачет";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "ЗЧ-"+Источник.Номер</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>ПодразделениеКомпании --&gt; Подразделение</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПодразделениеКомпании" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияКомпании"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Если Источник.Проведен Тогда
	Значение = Источник.ПометкаУдаления;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>СуммаДокумента --&gt; СуммаОперации</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаОперации" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>--&gt; СпособЗаполнения</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособЗаполнения" Вид="Реквизит"/>
						<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>9</Код>
						<Наименование>--&gt; Хозрасчетный</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Хозрасчетный" Вид="НаборДвиженийРегистраБухгалтерии"/>
						<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПроводкиДокумента);</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; Период</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; СчетДт</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; СчетКт</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКт" Вид="Свойство" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; СубконтоДт</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоДт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; СубконтоКт</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СубконтоКт" Вид="ВидыСубконтоСчета"/>
							<ПередВыгрузкой>ИмяПКОВидСубконто = "ВидыСубконтоХозрасчетные";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ВалютаДт</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВалютаКт</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаКт" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Измерение" Тип="СправочникСсылка.Подразделения"/>
							<КодПравилаКонвертации>Подразделения                                     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ПодразделениеКомпании;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Ресурс" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; Содержание</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="false">
				<Код>ПоступлениеТоваров</Код>
				<Наименование>Поступление товаров</Наименование>
				<Порядок>50</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеТоваров</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "ПоступлениеТоваров";
ИмяПравилаПКО = "ПоступлениеТоваров";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументов);

Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>ВозвратПоставщику</Код>
				<Наименование>Возврат поставщику</Наименование>
				<Порядок>100</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ВозвратПоставщику</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "ВозвратПоставщику";
ИмяПравилаПКО = "ВозвратПоставщику";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументов);

Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>ЗакрытиеСмены</Код>
				<Наименование>Закрытие кассовой смены</Наименование>
				<Порядок>150</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ЗакрытиеСмены</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "ЗакрытиеСмены";
ИмяПравилаПКО = "ЗакрытиеСмены";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументов);

Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>РеализацияТоваров</Код>
				<Наименование>Реализация товаров</Наименование>
				<Порядок>200</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РеализацияТоваров</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "РеализацияТоваров";
ИмяПравилаПКО = "РеализацияТоваров";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументов);

Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>ВозвратОтПокупателя</Код>
				<Наименование>Возврат от покупателя</Наименование>
				<Порядок>250</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ВозвратОтПокупателя</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "ВозвратОтПокупателя";
ИмяПравилаПКО = "ВозвратОтПокупателя";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументов);

Отказ = Истина;</ПередОбработкойПравила>
				<ПередВыгрузкойОбъекта>Если НЕ Отказ Тогда
	
	Если Объект.Организация = Параметры.ОрганизацияФС Тогда		
		ИмяПКО 	= "ДокументНаУдаление";
	Иначе
		ИмяПКО 	= "ВозвратОтПокупателя";
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПриходныйКассовыйОрдер</Код>
				<Наименование>ПКО</Наименование>
				<Порядок>300</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПриходныйКассовыйОрдер</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "ПриходныйКассовыйОрдер";
ИмяПравилаПКО = "ПриходныйКассовыйОрдер";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументов);

Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>РасходныйКассовыйОрдер</Код>
				<Наименование>РКО</Наименование>
				<Порядок>350</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РасходныйКассовыйОрдер</ОбъектВыборки>
				<ПередОбработкойПравила>//Если Значениезаполнено(Параметры.ПарамРКО) Тогда
//	ВыгрузитьПоПравилу(Параметры.ПарамРКО, , , , "РасходныйКассовыйОрдер");
//	Отказ = Истина;

//КонецЕсли;



ТипОбъекта 	  = "РасходныйКассовыйОрдер";
ИмяПравилаПКО = "РасходныйКассовыйОрдер";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументов);

Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>ТК_Взаимозачет</Код>
				<Наименование>Взаимозачет</Наименование>
				<Порядок>400</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТК_Взаимозачет</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "ТК_Взаимозачет";
ИмяПравилаПКО = "Взаимозачет";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументов);

Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>ТК_КорректировкаДолга</Код>
				<Наименование>Корректировка долга</Наименование>
				<Порядок>450</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТК_КорректировкаДолга</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "ТК_КорректировкаДолга";
ИмяПравилаПКО = "КорректировкаДолга";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуДокументов);

Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило Отключить="false">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "Контрагенты";
ИмяПравилаПКО = "Контрагенты";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуСправочников);

//Если ЗначениеЗаполнено(Параметры.ОбъектВыгрузки) Тогда 
//	ВыгрузитьПоПравилу(Параметры.ОбъектВыгрузки, , , , "Контрагенты")
//КонецЕсли;

Отказ  = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>ДоговорыКонтрагентов</Код>
				<Наименование>Договоры с контрагентами</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ДоговорыКонтрагентов</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "ДоговорыКонтрагентов";
ИмяПравилаПКО = "ДоговорыКонтрагентов";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуСправочников);

//Если ЗначениеЗаполнено(Параметры.ОбъектВыгрузки) Тогда 
//	ВыгрузитьПоПравилу(Параметры.ОбъектВыгрузки, , , , ИмяПравилаПКО);
//КонецЕсли;


Отказ  = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>БанковскиеСчетаКонтрагентов</Код>
				<Наименование>Банковские счета</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>БанковскиеСчетаКонтрагентов                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БанковскиеСчетаКонтрагентов</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "БанковскиеСчетаКонтрагентов";
ИмяПравилаПКО = "БанковскиеСчетаКонтрагентов";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуСправочников);

Отказ  = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>КассыКомпании</Код>
				<Наименование>Кассы компании</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КассыКомпании</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "КассыКомпании";
ИмяПравилаПКО = "Кассы";

//Если ЗначениеЗаполнено(Параметры.ОбъектВыгрузки) Тогда 
//	ВыгрузитьПоПравилу(Параметры.ОбъектВыгрузки, , , , "Кассы")
//КонецЕсли;

Выполнить(Алгоритмы.ВыполнитьВыгрузкуСправочников);

Отказ  = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>БанковскиеСчетаОрганизаций</Код>
				<Наименование>Банковские счета организаций</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>БанковскиеСчетаОрганизаций                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БанковскиеСчетаОрганизаций</ОбъектВыборки>
				<ПередОбработкойПравила>ТипОбъекта 	  = "БанковскиеСчетаОрганизаций";
ИмяПравилаПКО = "БанковскиеСчетаОрганизаций";

Выполнить(Алгоритмы.ВыполнитьВыгрузкуСправочников);

Отказ  = Истина;</ПередОбработкойПравила>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Алгоритм Имя="ВыполнитьВыгрузкуДокументов" ИспользуетсяПриЗагрузке="false">
			<Текст>ПланОбмена = Параметры.Получатель;

ДокНаВыгрузку = "600";

Если ТипОбъекта = "ПриходныйКассовыйОрдер" ИЛИ ТипОбъекта = "РасходныйКассовыйОрдер" Тогда
	ДатаГраница = Дата(2021,10,25);
Иначе
	ДатаГраница = Дата('20200101');
КонецЕсли;

ТекстЗапроса =	"ВЫБРАТЬ ПЕРВЫЕ "+ДокНаВыгрузку+"
|	%ДопПоля%
|	ОбъектИзменения.Ссылка.Дата КАК Дата,
|	ОбъектИзменения.Ссылка.Проведен КАК Проведен,
|	ОбъектИзменения.Ссылка.ПометкаУдаления КАК ПометкаУдаления,
|	ОбъектИзменения.Ссылка,
|   ОбъектИзменения.Ссылка.МоментВремени КАК СсылкаМоментВремени,
|	ОбъектИзменения.НомерСообщения КАК НомерСообщения
|ИЗ
|	Документ.%ТипОбъекта%.Изменения КАК ОбъектИзменения
|ГДЕ
|	ОбъектИзменения.Узел = &amp;Узел
|	%ДопОтбор%
|
|УПОРЯДОЧИТЬ ПО
|	НомерСообщения УБЫВ,
|	СсылкаМоментВремени";

ДопПоля = "";
ДопОтбор = "";

Попытка
	Если ТипЗнч(ИсходящиеДанные) = Тип("Структура") Тогда			
		Если ИсходящиеДанные.Свойство("ДопПоля") Тогда
			ДопПоля = ИсходящиеДанные.ДопПоля;
		КонецЕсли;
		
		Если ИсходящиеДанные.Свойство("ДопОтбор") Тогда
			ДопОтбор = ИсходящиеДанные.ДопОтбор;
		КонецЕсли;
	КонецЕсли;
Исключение
КонецПопытки;

ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "%ДопПоля%",	ДопПоля);
ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "%ДопОтбор%",	ДопОтбор);
ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "%ТипОбъекта%",ТипОбъекта);

Запрос = Новый Запрос;
Запрос.Текст = ТекстЗапроса;
Запрос.УстановитьПараметр("Узел", ПланОбмена);

РезультатЗапроса = Запрос.Выполнить();

Если НЕ РезультатЗапроса.Пустой() Тогда 			
	
	таблРезультат = РезультатЗапроса.Выгрузить();						
	МассивСсылок = таблРезультат.ВыгрузитьКолонку("Ссылка");			
	
	ПланыОбмена.ВыбратьИзменения(ПланОбмена,1,МассивСсылок);
	
	Если Не ПустаяСтрока(ИмяПравилаПКО) Тогда
		Для Каждого Документ Из таблРезультат Цикл
			НаУдаление = Ложь;
			Если Документ.Дата &gt;= ДатаГраница Тогда 
				Если ТипОбъекта = "ЗакрытиеСмены" Тогда
				ИначеЕсли Документ.Ссылка.РегламентированныйУчет Тогда
					НаУдаление = Истина;
				ИначеЕсли (ТипОбъекта = "ПоступлениеТоваров" ИЛИ ТипОбъекта = "ВозвратПоставщику" ИЛИ ТипОбъекта = "РеализацияТоваров" ИЛИ ТипОбъекта = "ВозвратОтПокупателя") И Документ.Ссылка.Контрагент.ВидКонтрагента = Перечисления.ВидыКонтрагентов.Внутренний Тогда
					НаУдаление = Истина;
				ИначеЕсли ТипОбъекта = "ТК_КорректировкаДолга" И Документ.Ссылка.СтатьяРасхода &lt;&gt; Параметры.КорректировкаПоАктуСверки И Документ.Ссылка.СтатьяРасхода &lt;&gt; Параметры.СтатьяКорректировкиДляПерегрузкиРеглВУУ Тогда
					НаУдаление = Истина;
				ИначеЕсли ТипОбъекта = "ПриходныйКассовыйОрдер" ИЛИ ТипОбъекта = "РасходныйКассовыйОрдер" Тогда
					Если Параметры.ПерегружаемыеСтатьиДДС.НайтиПоЗначению(Документ.Ссылка.СтатьяДДС) = Неопределено Тогда
						НаУдаление = Истина;
					Иначе
						СвойствоБазаСоздания = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоРеквизиту("Имя","БазаСоздания");
						строкаБазаСоздания = Документ.Ссылка.ДополнительныеРеквизиты.Найти(СвойствоБазаСоздания,"Свойство");
						Если строкаБазаСоздания &lt;&gt; Неопределено И строкаБазаСоздания.Значение = Справочники.ЗначенияСвойствОбъектов.НайтиПоНаименованию("УУ",,,СвойствоБазаСоздания) Тогда
							НаУдаление = Истина;
						КонецЕсли;
					КонецЕсли;
				КонецЕсли;
				
				//Структура = Новый Структура("Организация");
				//ЗаполнитьЗначенияСвойств(Структура, Документ); 
				//
				//Если Документ.Ссылка.Организация = Параметры.ОрганизацияФС Тогда
				//	НаУдаление = Истина;
				//КонецЕсли;

				
				Попытка
					ВыгрузитьПоПравилу(Документ.Ссылка, , , , ?(НаУдаление,"ДокументНаУдаление",ИмяПравилаПКО));
				Исключение
					ПланыОбмена.ЗарегистрироватьИзменения(ПланОбмена, Документ.Ссылка);  
				КонецПопытки;
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
КонецЕсли;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ВыполнитьВыгрузкуСправочников" ИспользуетсяПриЗагрузке="false">
			<Текст>ПланОбмена = Параметры.Получатель;

Если ПланОбмена &lt;&gt; Неопределено И Не ПланОбмена.Пустая() Тогда 
	
	ТекстЗапроса =	"ВЫБРАТЬ ПЕРВЫЕ 1000 
	|	ОбъектИзменения.Ссылка,
	|	ОбъектИзменения.НомерСообщения КАК НомерСообщения
	|ИЗ
	|	Справочник.%ТипОбъекта%.Изменения КАК ОбъектИзменения
	|ГДЕ
	|	ОбъектИзменения.Узел = &amp;Узел
	|
	|УПОРЯДОЧИТЬ ПО
	|	НомерСообщения УБЫВ";
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "%ТипОбъекта%", ТипОбъекта);
	
	Запрос = Новый Запрос;
	Запрос.Текст = ТекстЗапроса;
	Запрос.УстановитьПараметр("Узел", ПланОбмена);
	
	РезультатЗапроса = Запрос.Выполнить();
	
	Если НЕ РезультатЗапроса.Пустой() Тогда 						
		
		МассивСсылок = РезультатЗапроса.Выгрузить().ВыгрузитьКолонку("Ссылка");
		
		ПланыОбмена.ВыбратьИзменения(ПланОбмена,1,МассивСсылок);
		
		Если НЕ ПустаяСтрока(ИмяПравилаПКО) Тогда
			Для Каждого Спр Из МассивСсылок Цикл 
				ВыгрузитьПоПравилу(Спр, , , , ИмяПравилаПКО);				
			КонецЦикла;			
		КонецЕсли;
		
	КонецЕсли;
	
КонецЕсли;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ЗаписатьСоответствиеОбъектов" ИспользуетсяПриЗагрузке="true">
			<Текст>GUID_Поиска = ПараметрыОбъекта.Получить("GUID_Поиска");
ТипОбъектаИсточника = Параметры.ПараметрыАлгоритмов["ТипОбъектаИсточника"];

НачатьТранзакцию();

Попытка 
	
	УстановитьОбменДаннымиЗагрузка(Объект);
	Объект.Записать();
	
	Запись = РегистрыСведений.СоответствиеОбъектовДляОбмена.СоздатьМенеджерЗаписи();
	Запись.УзелОбмена		= Параметры.УзлыОбменаДляСоответствияОбъектов[0].Значение;
	Запись.СобственнаяСсылка= Объект.Ссылка;
	Запись.СсылкаВДругойИБ	= GUID_Поиска;
	Запись.ИмяТипаПриемника = ТипОбъектаИсточника;
	Запись.Записать();
	
	ЗафиксироватьТранзакцию();
	
Исключение
	ОтменитьТранзакцию();
	тСообщение = "ОШИБКА ЗАГРУЗКА ПРЕРВАНА, не удалось записать соответствие объектов обмена, описание ошибки :"+ОписаниеОшибки();
	ВызватьИсключение(тСообщение);
КонецПопытки;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ЗаполнитьСубконто" ИспользуетсяПриЗагрузке="false">
			<Текст>СубконтоДт = Новый Соответствие;
СубконтоКт = Новый Соответствие;

текСубконто = "СубконтоДт";
//Если НЕ  Лев(Проводка.СчетДт,2) ="79"  Тогда
//	Если Проводка.СчетДт = "3779" Тогда
//		Проводка.СчетДт = "377";
//	КонецЕсли;

Попытка
	Выполнить(Алгоритмы["сч"+Проводка.СчетДт]);
Исключение
	тОшибка = "ВЫГРУЗКА ПРЕРВАНА!. Ошибка заполнения субконто по счету Дт :"""+ Проводка.СчетДт +""", текст ошибки: "+ОписаниеОшибки();
	ВызватьИсключение(тОшибка);
КонецПопытки;

//КонецЕсли;


текСубконто = "СубконтоКт";		
//Если НЕ Лев(Проводка.СчетКт,2) ="79" Тогда
//	Если Проводка.СчетКт = "3779" Тогда
//		Проводка.СчетКт = "377";
//	КонецЕсли;

Попытка
	Выполнить(Алгоритмы["сч"+Проводка.СчетКт]);
Исключение
	тОшибка = "ВЫГРУЗКА ПРЕРВАНА!. Ошибка заполнения субконто по счету Кт :"""+ Проводка.СчетКт +""", текст ошибки: "+ОписаниеОшибки();
	ВызватьИсключение(тОшибка);
КонецПопытки;

//КонецЕсли;



нСтрока.СубконтоДт = СубконтоДт;

нСтрока.СубконтоКт = СубконтоКт;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ПолучитьДокумент" ИспользуетсяПриЗагрузке="true">
			<Текст>GUID_Поиска = ПараметрыОбъекта.Получить("GUID_Поиска");

Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ РАЗЛИЧНЫЕ
               |	СоответствиеОбъектовДляОбмена.СобственнаяСсылка КАК Ссылка
               |ИЗ
               |	РегистрСведений.СоответствиеОбъектовДляОбмена КАК СоответствиеОбъектовДляОбмена
               |ГДЕ
               |	СоответствиеОбъектовДляОбмена.УзелОбмена В(&amp;УзлыОбмена)
               |	И СоответствиеОбъектовДляОбмена.СсылкаВДругойИБ = &amp;СсылкаВДругойИБ";

Запрос.УстановитьПараметр("УзлыОбмена", Параметры.УзлыОбменаДляСоответствияОбъектов);
Запрос.УстановитьПараметр("СсылкаВДругойИБ", GUID_Поиска);

Выборка = Запрос.Выполнить().Выбрать();

Если Выборка.Следующий() Тогда
	СсылкаНаОбъект = Выборка.Ссылка;
КонецЕсли;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ПолучитьСоответствиеОбъектов" ИспользуетсяПриЗагрузке="true">
			<Текст>Отказ = Ложь;
ОбъектНайден = Ложь;
ВидОбъекта  = Параметры.ПараметрыАлгоритмов["ВидОбъекта"];
GUID_Поиска = ПараметрыОбъекта.Получить("GUID_Поиска");
Код_Поиска  = СвойстваПоиска.Получить("Код");
Наименование_Поиска  = СвойстваПоиска.Получить("Наименование");
КодПоДРФО_Поиска = СвойстваПоиска.Получить("КодПоДРФО");

Если GUID_Поиска &lt;&gt; Неопределено Тогда
	
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	СоответствиеОбъектовДляОбмена.СобственнаяСсылка КАК Ссылка,
	|	СоответствиеОбъектовДляОбмена.СсылкаВДругойИБ
	|ПОМЕСТИТЬ ВТ
	|ИЗ
	|	РегистрСведений.СоответствиеОбъектовДляОбмена КАК СоответствиеОбъектовДляОбмена
	|ГДЕ
	|	СоответствиеОбъектовДляОбмена.СсылкаВДругойИБ = &amp;СсылкаВДругойИБ
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	СоответствиеОбъектовДляОбмена.УзелОбмена КАК УзелОбмена,
	|	ВТ.Ссылка,
	|	ВТ.СсылкаВДругойИБ
	|ИЗ
	|	ВТ КАК ВТ
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеОбъектовДляОбмена КАК СоответствиеОбъектовДляОбмена
	|		ПО ВТ.СсылкаВДругойИБ = СоответствиеОбъектовДляОбмена.СсылкаВДругойИБ
	|			И ВТ.Ссылка = СоответствиеОбъектовДляОбмена.СобственнаяСсылка
	|
	|УПОРЯДОЧИТЬ ПО
	|	УзелОбмена УБЫВ";
	
	Запрос.УстановитьПараметр("СсылкаВДругойИБ", GUID_Поиска);
	
	Выборка = Запрос.Выполнить().Выбрать();
	МногоЖ = Выборка.Количество()&gt;1;
	Пока Выборка.Следующий() Цикл
		Если МногоЖ Тогда 	
			Если Параметры.УзлыОбменаДляСоответствияОбъектов.НайтиПоЗначению(Выборка.УзелОбмена) &lt;&gt; Неопределено Тогда	
				СсылкаНаОбъект = Выборка.Ссылка;
				ОбъектНайден = Истина;
				Прервать;
			КонецЕсли;
		Иначе
			СсылкаНаОбъект = Выборка.Ссылка;
			ОбъектНайден = Истина;
		КонецЕсли;
	КонецЦикла;
КонецЕсли;

Если ОбъектНайден = Ложь Тогда
	Если Код_Поиска &lt;&gt; Неопределено Тогда
		
		КодПоискаСсылкаНаОбъект = Справочники[ВидОбъекта].НайтиПоКоду(Код_Поиска);
		
		Если КодПоискаСсылкаНаОбъект.Пустая() Тогда
			Сообщить("ОШИБКА: Не найден элемент справочника: "+ВидОбъекта+" по коду "+Код_Поиска+", исправьте код и выгрузите данные ",СтатусСообщения.ОченьВажное);
		Иначе
			СсылкаНаОбъект = КодПоискаСсылкаНаОбъект;
			ОбъектНайден = Истина;
			
			ТипОбъектаИсточника  = Параметры.ПараметрыАлгоритмов["ТипОбъектаИсточника"];
			
			Запись = РегистрыСведений.СоответствиеОбъектовДляОбмена.СоздатьМенеджерЗаписи();
			Запись.УзелОбмена		= Параметры.УзлыОбменаДляСоответствияОбъектов[0].Значение;
			Запись.СобственнаяСсылка= СсылкаНаОбъект;
			Запись.СсылкаВДругойИБ	= GUID_Поиска;
			Запись.ИмяТипаПриемника = ТипОбъектаИсточника;
			Запись.Записать();
		КонецЕсли;
		
	ИначеЕсли Наименование_Поиска &lt;&gt; Неопределено Тогда
		
		НаименованиеПоискаСсылкаНаОбъект = Справочники[ВидОбъекта].НайтиПоНаименованию(Наименование_Поиска);
		
		Если НаименованиеПоискаСсылкаНаОбъект.Пустая() Тогда
			Сообщить("ОШИБКА: Не найден элемент справочника: "+ВидОбъекта+" по наименованию "+Наименование_Поиска+", исправьте и выгрузите данные ",СтатусСообщения.ОченьВажное);
		Иначе
			СсылкаНаОбъект = НаименованиеПоискаСсылкаНаОбъект;
			ОбъектНайден = Истина;
			
			ТипОбъектаИсточника  = Параметры.ПараметрыАлгоритмов["ТипОбъектаИсточника"];
			
			Запись = РегистрыСведений.СоответствиеОбъектовДляОбмена.СоздатьМенеджерЗаписи();
			Запись.УзелОбмена		= Параметры.УзлыОбменаДляСоответствияОбъектов[0].Значение;
			Запись.СобственнаяСсылка= СсылкаНаОбъект;
			Запись.СсылкаВДругойИБ	= GUID_Поиска;
			Запись.ИмяТипаПриемника = ТипОбъектаИсточника;
			Запись.Записать();
		КонецЕсли;
	ИначеЕсли КодПоДРФО_Поиска &lt;&gt; Неопределено Тогда
		
		КодПоДРФОСсылкаНаОбъект = Справочники[ВидОбъекта].НайтиПоРеквизиту("КодПоДРФО",КодПоДРФО_Поиска);
		
		Если КодПоДРФОСсылкаНаОбъект.Пустая() Тогда
			Сообщить("ОШИБКА: Не найден элемент справочника: "+ВидОбъекта+" по КодПоДРФО "+Наименование_Поиска+", исправьте и выгрузите данные ",СтатусСообщения.ОченьВажное);
		Иначе
			СсылкаНаОбъект = КодПоДРФОСсылкаНаОбъект;
			ОбъектНайден = Истина;
			
			ТипОбъектаИсточника  = Параметры.ПараметрыАлгоритмов["ТипОбъектаИсточника"];
			
			Запись = РегистрыСведений.СоответствиеОбъектовДляОбмена.СоздатьМенеджерЗаписи();
			Запись.УзелОбмена		= Параметры.УзлыОбменаДляСоответствияОбъектов[0].Значение;
			Запись.СобственнаяСсылка= СсылкаНаОбъект;
			Запись.СсылкаВДругойИБ	= GUID_Поиска;
			Запись.ИмяТипаПриемника = ТипОбъектаИсточника;
			Запись.Записать();
		КонецЕсли;
	КонецЕсли;
КонецЕсли;



ПараметрыОбъекта.Вставить("ЗаписатьОбъект",ОбъектНайден &lt;&gt; Истина);</Текст>
		</Алгоритм>
		<Алгоритм Имя="ПолучитьСуммуПроводки" ИспользуетсяПриЗагрузке="false">
			<Текст>СписокЧисловыеПоля = Новый СписокЗначений;

ПостроительОтчетаПоШаблону.ЗаполнитьНастройки();

Попытка
	Для Каждого Поле Из ПостроительОтчетаПоШаблону.ДоступныеПоля Цикл
		Попытка
			Если Тип(Поле.ТипЗначения) = Тип("Число") Тогда
				СписокЧисловыеПоля.Добавить(СтрДлина(Поле.Имя), Поле.Имя);
			КонецЕсли; 
		Исключение
		КонецПопытки;
	КонецЦикла;
	СписокЧисловыеПоля.СортироватьПоЗначению(НаправлениеСортировки.Убыв);
Исключение
	СтрОш=ОписаниеОшибки();
	Сообщить("Не удалось получить поля для построителя по причине: "+СтрОш);
КонецПопытки;

Для Каждого Сччч Из СписокЧисловыеПоля Цикл
	ПодстрокаЗамены = Формат(ВыборкаРезультатЗапросаПоШаблону[Сччч],"ЧРД=.; ЧН=; ЧГ=0");
	ФормулаСуммы = СтрЗаменить(ФормулаСуммы, Сччч, ?(НЕ ЗначениеЗаполнено(ПодстрокаЗамены),0,ПодстрокаЗамены));
КонецЦикла;

СуммаПроводки = Число(Формат(Вычислить(СтрЗаменить(ФормулаСуммы,"--","+")),"ЧРД=.; ЧН=; ЧГ=0"));</Текст>
		</Алгоритм>
		<Алгоритм Имя="ПроверитьДатуДокумента" ИспользуетсяПриЗагрузке="true">
			<Текст>Если  Объект.Дата&lt;= Параметры["ГраницаЗапрета"] Тогда
	Отказ = Истина;
КонецЕсли;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ПроводкиДокумента" ИспользуетсяПриЗагрузке="false">
			<Текст>тзПроводок = Новый ТаблицаЗначений;
тзПроводок.Колонки.Добавить("Операция");
тзПроводок.Колонки.Добавить("Период");
тзПроводок.Колонки.Добавить("Организация");
тзПроводок.Колонки.Добавить("СчетДт");
тзПроводок.Колонки.Добавить("СубконтоДт1");
тзПроводок.Колонки.Добавить("ТипСубДт1");
тзПроводок.Колонки.Добавить("СубконтоДт2");
тзПроводок.Колонки.Добавить("ТипСубДт2");
тзПроводок.Колонки.Добавить("СубконтоДт3");
тзПроводок.Колонки.Добавить("ТипСубДт3");
тзПроводок.Колонки.Добавить("КоличествоДт");
тзПроводок.Колонки.Добавить("ВалютаДт");
тзПроводок.Колонки.Добавить("СуммаДт");
тзПроводок.Колонки.Добавить("СчетКт");
тзПроводок.Колонки.Добавить("СубконтоКт1");
тзПроводок.Колонки.Добавить("ТипСубКт1");
тзПроводок.Колонки.Добавить("СубконтоКт2");
тзПроводок.Колонки.Добавить("ТипСубКт2");
тзПроводок.Колонки.Добавить("СубконтоКт3");
тзПроводок.Колонки.Добавить("ТипСубКт3");
тзПроводок.Колонки.Добавить("КоличествоКт");
тзПроводок.Колонки.Добавить("ВалютаКт");
тзПроводок.Колонки.Добавить("СуммаКт");
тзПроводок.Колонки.Добавить("Сумма");
тзПроводок.Колонки.Добавить("Содержание");

ТекстЗапроса = "";
ТекстУсловияПоОрганизации = "";

ПостроительОтчетаПоШаблону = Новый ПостроительОтчета;

ДатаОперации = Источник.Дата;
Организация	 = Источник.Организация;

ВыборкаШаблонов = Параметры.КэшШаблонов.НайтиСтроки(Новый Структура("ВидДокумента",Источник.Метаданные().Имя));


Для Сч = 0 По ВыборкаШаблонов.ВГраница() Цикл
	
	ТекущийШаблон = ВыборкаШаблонов[Сч].ШаблонПроводки;
	
	ПостроительОтчетаПоШаблону.Текст = ТекущийШаблон.ТекстЗапроса;
	ПостроительОтчетаПоШаблону.Отбор.Сбросить();
	Если ЗначениеЗаполнено(ТекущийШаблон.Отборы) Тогда
		Для Каждого Отбор Из ТекущийШаблон.Отборы Цикл
			ЗаполнитьЗначенияСвойств(ПостроительОтчетаПоШаблону.Отбор.Добавить(Отбор.ПутьКДанным),Отбор);	
		КонецЦикла;
	КонецЕсли;
	ПостроительОтчетаПоШаблону.Параметры.Вставить("ВидДвиженияПриход", ВидДвиженияНакопления.Приход);
	ПостроительОтчетаПоШаблону.Параметры.Вставить("ВидДвиженияРасход", ВидДвиженияНакопления.Расход);
	ПостроительОтчетаПоШаблону.Параметры.Вставить("Регистратор", Источник);
	ПостроительОтчетаПоШаблону.Параметры.Вставить("ХозОперация", ТекущийШаблон.ХозОперация);
	
	Если Найти(ТекущийШаблон.ТекстЗапроса,"&amp;Тара") Тогда
		ПостроительОтчетаПоШаблону.Параметры.Вставить("Тара", Перечисления.ВидыНоменклатуры.Тара);
	КонецЕсли;
	
	Если Найти(ТекущийШаблон.ТекстЗапроса,"&amp;Услуга") Тогда
		ПостроительОтчетаПоШаблону.Параметры.Вставить("Услуга", Перечисления.ВидыНоменклатуры.Услуга);
	КонецЕсли;
	
	Если Найти(ТекущийШаблон.ТекстЗапроса,"&amp;НаДату") Тогда
		ПостроительОтчетаПоШаблону.Параметры.Вставить("НаДату", Источник.Дата);
	КонецЕсли;
	Если Найти(ТекущийШаблон.ТекстЗапроса,"&amp;ТорговаяПлощадка") Тогда
		ПостроительОтчетаПоШаблону.Параметры.Вставить("ТорговаяПлощадка", Источник.ТорговаяПлощадка);
	КонецЕсли;

	
	Если Найти(ТекущийШаблон.ТекстЗапроса,"&amp;Товар") Тогда
		ПостроительОтчетаПоШаблону.Параметры.Вставить("Товар", Источник.ВидыНоменклатуры.Товар);
	КонецЕсли;
	
	Если Найти(ТекущийШаблон.ТекстЗапроса,"&amp;Комплект") Тогда
		ПостроительОтчетаПоШаблону.Параметры.Вставить("Комплект", Перечисления.ВидыНоменклатуры.Комплект);
	КонецЕсли;
	
	Если Найти(ТекущийШаблон.ТекстЗапроса,"&amp;СтатусПартииКомиссия") Тогда
		ПостроительОтчетаПоШаблону.Параметры.Вставить("СтатусПартииКомиссия", Перечисления.СтатусыПартий.ТоварПринятыйКомиссия);
	КонецЕсли;
	
	Если Найти(ТекущийШаблон.ТекстЗапроса,"&amp;НоменклатураВыигрыш") Тогда
		ПостроительОтчетаПоШаблону.Параметры.Вставить("НоменклатураВыигрыш", Справочники.Номенклатура.НоменклатураВыигрышЛотерея());
	КонецЕсли;
	ПостроительОтчетаПоШаблону.УстановитьНастройки(ПостроительОтчетаПоШаблону.ПолучитьНастройки());
	
	ПостроительОтчетаПоШаблону.Выполнить();
	ВыборкаРезультатЗапросаПоШаблону = ПостроительОтчетаПоШаблону.Результат.Выбрать();
	
	Пока ВыборкаРезультатЗапросаПоШаблону.Следующий() Цикл
		ФормулаСуммы = ТекущийШаблон.ФормулаСуммы;
		СуммаПроводки = 0;
		Выполнить(Алгоритмы.ПолучитьСуммуПроводки);
		
		Если НЕ ЗначениеЗаполнено(СуммаПроводки) Тогда Продолжить; КонецЕсли;
		
		НоваяПроводка = тзПроводок.Добавить();
		НоваяПроводка.Содержание = СокрЛП(ТекущийШаблон.Наименование);
		НоваяПроводка.Организация		 = Организация;
		НоваяПроводка.Период			 = ДатаОперации;
		НоваяПроводка.Сумма				 = СуммаПроводки;
		
		НоваяПроводка.СчетДт = ТекущийШаблон.СчДебета;
		Если ЗначениеЗаполнено(ТекущийШаблон.КоличествоДебета) Тогда
			НоваяПроводка.КоличествоДт = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.КоличествоДебета];
		КонецЕсли;
		Если ЗначениеЗаполнено(ТекущийШаблон.ВалютаДебета) И ЗначениеЗаполнено(ТекущийШаблон.СуммаДебета) Тогда
			НоваяПроводка.ВалютаДт = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.ВалютаДебета];
			
			ФормулаСуммы = ТекущийШаблон.СуммаДебета;
			СуммаПроводки = 0;
			Выполнить(Алгоритмы.ПолучитьСуммуПроводки);
			
			
			НоваяПроводка.СуммаДт = СуммаПроводки;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(ТекущийШаблон.СубконтоДебета1) Тогда
			Попытка
				Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета1])),"Перечисление")&lt;1 
					И ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета1]) &lt;&gt; Тип("Строка") Тогда
					Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета1])),"НДС")&gt; 0 Тогда 
						НоваяПроводка.СубконтоДт1 = Строка(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета1].Ставка);
					Иначе
						Если ЗначениеЗаполнено(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета1]) Тогда
							НоваяПроводка.СубконтоДт1 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета1];
						КонецЕсли;
					КонецЕсли;
					НоваяПроводка.ТипСубДт1 = Строка(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета1].Метаданные().ПолноеИмя());
				Иначе
					НоваяПроводка.СубконтоДт1 = СокрЛП(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета1]);
				КонецЕсли;
			Исключение
				НоваяПроводка.СубконтоДт1 = СокрЛП(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета1]);
			КонецПопытки;
		КонецЕсли; 
		
		Если ЗначениеЗаполнено(ТекущийШаблон.СубконтоДебета2) Тогда
			Попытка
				Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета2])),"Перечисление")&lt;1 
					И ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета2]) &lt;&gt; Тип("Строка") Тогда
					Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета2])),"НДС") &gt; 0 Тогда
						НоваяПроводка.СубконтоДт2 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета2];
					Иначе
						Если ЗначениеЗаполнено(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета2]) Тогда
							НоваяПроводка.СубконтоДт2 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета2];
						КонецЕсли;
					КонецЕсли;
					НоваяПроводка.ТипСубДт2 = Строка(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета2].Метаданные().ПолноеИмя());
				Иначе
					НоваяПроводка.СубконтоДт2 = СокрЛП(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета2]);
				КонецЕсли;
			Исключение
				НоваяПроводка.СубконтоДт2 = СокрЛП(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета2]);
			КонецПопытки;
		КонецЕсли; 
		
		Если ЗначениеЗаполнено(ТекущийШаблон.СубконтоДебета3) Тогда
			Попытка
				Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета3])),"Перечисление")&lt;1 
					И ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета3]) &lt;&gt; Тип("Строка") Тогда
					Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета3])),"НДС") &gt; 0 Тогда
						НоваяПроводка.СубконтоДт3 = Строка(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета3].Ставка);
					Иначе
						Если ЗначениеЗаполнено(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета3]) Тогда
							НоваяПроводка.СубконтоДт3 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета3];
						КонецЕсли;
					КонецЕсли;
					НоваяПроводка.ТипСубДт3 = Строка(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета3].Метаданные().ПолноеИмя());
				Иначе
					НоваяПроводка.СубконтоДт3 = СокрЛП(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета3]);
				КонецЕсли;
			Исключение
				НоваяПроводка.СубконтоДт3 = СокрЛП(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоДебета3]);
			КонецПопытки;
		КонецЕсли; 
		
		НоваяПроводка.СчетКт = ТекущийШаблон.СчКредита;
		Если ЗначениеЗаполнено(ТекущийШаблон.КоличествоКредита) Тогда
			НоваяПроводка.КоличествоКт = Формат(СокрЛП(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.КоличествоКредита]),"ЧРД=.; ЧГ=0");
		КонецЕсли;
		Если ЗначениеЗаполнено(ТекущийШаблон.ВалютаКредита) И ЗначениеЗаполнено(ТекущийШаблон.СуммаКредита) Тогда
			НоваяПроводка.ВалютаКт = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.ВалютаКредита];
			
			ФормулаСуммы = ТекущийШаблон.СуммаКредита;
			СуммаПроводки = 0;
			Выполнить(Алгоритмы.ПолучитьСуммуПроводки);
			
			НоваяПроводка.СуммаКт = СуммаПроводки;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(ТекущийШаблон.СубконтоКредита1) Тогда
			Попытка
				Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1])),"Перечисление")&lt;1 
					И ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1]) &lt;&gt; Тип("Строка") Тогда
					Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1])),"НДС") &gt; 0 Тогда
						НоваяПроводка.СубконтоКт1 = Строка(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1].Ставка);
					Иначе
						Если ЗначениеЗаполнено(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1]) Тогда
							НоваяПроводка.СубконтоКт1 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1];
						КонецЕсли;
					КонецЕсли;
					НоваяПроводка.ТипСубКт1 = Строка(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1].Метаданные().ПолноеИмя());
					НоваяПроводка.СубконтоКт1 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1];
				Иначе
					НоваяПроводка.СубконтоКт1 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1];
				КонецЕсли;
			Исключение
				НоваяПроводка.СубконтоКт1 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита1];
			КонецПопытки;
		КонецЕсли; 
		
		Если ЗначениеЗаполнено(ТекущийШаблон.СубконтоКредита2) Тогда
			Попытка
				Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита2])),"Перечисление")&lt;1 
					И ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита2]) &lt;&gt; Тип("Строка") Тогда	
					Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита2])),"НДС") &gt; 0 Тогда
						НоваяПроводка.СубконтоКт2 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита2];								
					Иначе
						Если ЗначениеЗаполнено(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита2]) Тогда
							НоваяПроводка.СубконтоКт2 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита2];
						КонецЕсли;
					КонецЕСли;
					НоваяПроводка.ТипСубКт2 = Строка(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита2].Метаданные().ПолноеИмя());
				Иначе
					НоваяПроводка.СубконтоКт2 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита2];
				КонецЕсли;
			Исключение
				НоваяПроводка.СубконтоКт2 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита2];
			КонецПопытки;
		КонецЕсли; 
		
		Если ЗначениеЗаполнено(ТекущийШаблон.СубконтоКредита3) Тогда
			Попытка
				Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита3])),"Перечисление")&lt;1 
					И ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита3]) &lt;&gt; Тип("Строка") Тогда
					Если СтрЧислоВхождений(СокрЛП(ТипЗнч(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита3])),"НДС") &gt; 0 Тогда
						НоваяПроводка.СубконтоКт3 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита3];
					Иначе
						Если ЗначениеЗаполнено(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита3]) Тогда
							НоваяПроводка.СубконтоКт3 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита3];
						КонецЕсли;
					КонецЕсли;
					НоваяПроводка.ТипСубКт3 = Строка(ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита3].Метаданные().ПолноеИмя());
				Иначе
					НоваяПроводка.СубконтоКт3 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита3];
				КонецЕсли;
			Исключение
				НоваяПроводка.СубконтоКт3 = ВыборкаРезультатЗапросаПоШаблону[ТекущийШаблон.СубконтоКредита3];
			КонецПопытки
		КонецЕсли;
	КонецЦикла;
КонецЦикла;


КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("Период");
КоллекцияОбъектов.Колонки.Добавить("СчетДт");
КоллекцияОбъектов.Колонки.Добавить("СчетКт");
КоллекцияОбъектов.Колонки.Добавить("СубконтоДт");
КоллекцияОбъектов.Колонки.Добавить("СубконтоКт");
КоллекцияОбъектов.Колонки.Добавить("Организация");
КоллекцияОбъектов.Колонки.Добавить("Сумма");
КоллекцияОбъектов.Колонки.Добавить("ВалютаДт");
КоллекцияОбъектов.Колонки.Добавить("ВалютаКт");
КоллекцияОбъектов.Колонки.Добавить("ВалютнаяСуммаДт");
КоллекцияОбъектов.Колонки.Добавить("ВалютнаяСуммаКт");
КоллекцияОбъектов.Колонки.Добавить("КоличествоДт");
КоллекцияОбъектов.Колонки.Добавить("КоличествоКт");
КоллекцияОбъектов.Колонки.Добавить("Содержание");
КоллекцияОбъектов.Колонки.Добавить("НомерЖурнала");

Для Каждого Проводка Из  тзПроводок Цикл
	нСтрока = КоллекцияОбъектов.Добавить();
	ЗаполнитьЗначенияСвойств(нСтрока,Проводка);
	Выполнить(Алгоритмы.ЗаполнитьСубконто);
КонецЦикла;</Текст>
		</Алгоритм>
		<Группа Имя="Счет">
			<Алгоритм Имя="сч" ИспользуетсяПриЗагрузке="false"/>
			<Алгоритм Имя="сч0241" ИспользуетсяПриЗагрузке="false"/>
			<Алгоритм Имя="сч281" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоНоменклатурныеГруппы  = Проводка[текСубконто+1];
СубконтоОбъекты               = Проводка[текСубконто+2];
СубконтоСклады                = Проводка[текСубконто+3];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00009""),СубконтоНоменклатурныеГруппы)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00013""),СубконтоСклады)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч301" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКасса      = Проводка[текСубконто+1];
СубконтоСтатьиДДС  = Проводка[текСубконто+2];
СубконтоОбъекты    = Проводка[текСубконто+3];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00048""),СубконтоКасса)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00019""),СубконтоСтатьиДДС)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)")</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч303" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКасса      = Проводка[текСубконто+1];
СубконтоСтатьиДДС  = Проводка[текСубконто+2];


Если ТипЗнч(Источник) = Тип("ДокументСсылка.ЗакрытиеСмены") И Источник.Дата&lt;Дата(2017,3,1)  Тогда
	Если  Источник.Организация = Параметры.Аттика2007 Тогда
		СубконтоКасса  =  Параметры.КассаАттика;
	ИначеЕсли   Источник.Организация = Параметры.СБС Тогда
		СубконтоКасса  =  Параметры.КассаСБС;
	КонецЕсли;
	
КонецЕсли;


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00048""),СубконтоКасса)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00019""),СубконтоСтатьиДДС)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч331" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоБанковскиеСчета   = Проводка[текСубконто+1];
СубконтоСтатьиДДС		  = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00007""),СубконтоБанковскиеСчета)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00019""),СубконтоСтатьиДДС)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч333" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКасса      = Проводка[текСубконто+1];
СубконтоСтатьиДДС  = Проводка[текСубконто+2];

	

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00053""),СубконтоКасса)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00019""),СубконтоСтатьиДДС)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч361" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКонтрагенты  = Проводка[текСубконто+1];
СубконтоДоговоры     = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00004""),СубконтоКонтрагенты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00011""),СубконтоДоговоры)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч3611" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКонтрагенты  = Проводка[текСубконто+1];
СубконтоДоговоры     = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00004""),СубконтоКонтрагенты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00011""),СубконтоДоговоры)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч3612" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКонтрагенты  = Проводка[текСубконто+1];
СубконтоДоговоры     = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00004""),СубконтоКонтрагенты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00011""),СубконтоДоговоры)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч3613" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКонтрагенты  = Проводка[текСубконто+1];
СубконтоДоговоры     = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00004""),СубконтоКонтрагенты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00011""),СубконтоДоговоры)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч36Р" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоОбъекты               = Проводка[текСубконто+1];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч631" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКонтрагенты  = Проводка[текСубконто+1];
СубконтоДоговоры     = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00004""),СубконтоКонтрагенты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00011""),СубконтоДоговоры)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч6311" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКонтрагенты  = Проводка[текСубконто+1];
СубконтоДоговоры     = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00004""),СубконтоКонтрагенты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00011""),СубконтоДоговоры)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч6312" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКонтрагенты  = Проводка[текСубконто+1];
СубконтоДоговоры     = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00004""),СубконтоКонтрагенты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00011""),СубконтоДоговоры)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч6313" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКонтрагенты  = Проводка[текСубконто+1];
СубконтоДоговоры     = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00004""),СубконтоКонтрагенты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00011""),СубконтоДоговоры)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч6432" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоКонтрагенты  = Проводка[текСубконто+1];
СубконтоДоговоры     = Проводка[текСубконто+2];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00004""),СубконтоКонтрагенты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00011""),СубконтоДоговоры)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч661" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоОбъекты               = Проводка[текСубконто+3];

Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)")</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч663" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоОбъекты = Проводка[текСубконто+2];
СубконтоФизЛица = Проводка[текСубконто+1];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00002""),СубконтоФизЛица)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч702" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоСтатьиДоходов         = Проводка[текСубконто+1];
СубконтоНоменклатурныеГруппы  = Проводка[текСубконто+2];
СубконтоОбъекты               = Проводка[текСубконто+3];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00017""),СубконтоСтатьиДоходов)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00009""),СубконтоНоменклатурныеГруппы)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)")</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч703" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоСтатьиДоходов         = Проводка[текСубконто+1];
СубконтоНоменклатурныеГруппы  = Проводка[текСубконто+2];
СубконтоОбъекты               = Проводка[текСубконто+3];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00017""),СубконтоСтатьиДоходов)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00009""),СубконтоНоменклатурныеГруппы)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)")</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч704" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоСтатьиДоходов         = Проводка[текСубконто+1];
СубконтоНоменклатурныеГруппы  = Проводка[текСубконто+2];
СубконтоОбъекты               = Проводка[текСубконто+3];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00017""),СубконтоСтатьиДоходов)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00009""),СубконтоНоменклатурныеГруппы)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)")</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч718" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоСтатьиДоходов         = Проводка[текСубконто+1];
СубконтоОбъекты               = Проводка[текСубконто+2];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00017""),СубконтоСтатьиДоходов)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч719" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоСтатьиДоходов         = Проводка[текСубконто+1];
СубконтоОбъекты               = Проводка[текСубконто+2];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00017""),СубконтоСтатьиДоходов)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч791" ИспользуетсяПриЗагрузке="false"/>
			<Алгоритм Имя="сч947" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоСтатьиЗатрат         = Проводка[текСубконто+1];
СубконтоОбъекты              = Проводка[текСубконто+2];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00006""),СубконтоСтатьиЗатрат)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч948" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоСтатьиЗатрат         = Проводка[текСубконто+1];
СубконтоОбъекты              = Проводка[текСубконто+2];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00006""),СубконтоСтатьиЗатрат)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)");</Текст>
			</Алгоритм>
			<Алгоритм Имя="сч949" ИспользуетсяПриЗагрузке="false">
				<Текст>СубконтоСтатьиЗатрат         = Проводка[текСубконто+1];
СубконтоОбъекты              = Проводка[текСубконто+2];


Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00006""),СубконтоСтатьиЗатрат)");
Выполнить(текСубконто+".Вставить(Новый Структура(""Код"",""00046""),СубконтоОбъекты)");</Текст>
			</Алгоритм>
		</Группа>
	</Алгоритмы>
	<Запросы>
		<Запрос Имя="ГраницаЗапрета" ИспользуетсяПриЗагрузке="true">
			<Текст>ВЫБРАТЬ ПЕРВЫЕ 1
	ГраницыЗапретаИзмененияДанных.ГраницаЗапретаИзменений КАК ГраницаЗапретаИзменений
ИЗ
	РегистрСведений.ГраницыЗапретаИзмененияДанных КАК ГраницыЗапретаИзмененияДанных

УПОРЯДОЧИТЬ ПО
	ГраницаЗапретаИзменений УБЫВ</Текст>
		</Запрос>
	</Запросы>
</ПравилаОбмена>